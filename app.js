let currentUser=null,currentPage="home";function checkAuth(){const n=localStorage.getItem("krauser_user");return!!n&&(currentUser=JSON.parse(n),!0)}function logout(){localStorage.removeItem("krauser_user"),currentUser=null,navigateTo("home"),showNotification("SesiÃ³n cerrada exitosamente","success")}function showNotification(n,t="info"){const a=document.createElement("div");a.className=`notification notification-${t}`,a.textContent=n,document.body.appendChild(a),setTimeout(()=>{a.classList.add("show")},10),setTimeout(()=>{a.classList.remove("show"),setTimeout(()=>a.remove(),300)},3e3)}function toggleMobileMenu(){document.getElementById("navMenu").classList.toggle("active")}function navigateTo(n){currentPage=n,document.getElementById("navMenu").classList.remove("active"),document.querySelectorAll(".nav-link").forEach(t=>{t.classList.remove("active"),t.dataset.page===n&&t.classList.add("active")});const t=document.getElementById("footer");["login","agent-login","dashboard","agent-dashboard"].includes(n)?t.style.display="none":t.style.display="block",loadPage(n),window.scrollTo({top:0,behavior:"smooth"})}const pages={home:'\n    <nav class="sub-navigation" id="sub-nav" style="display: none;">\n      <button class="sub-nav-btn active" data-section="hero" onclick="showHomeSection(\'hero\')">Hero</button>\n      <button class="sub-nav-btn" data-section="eleccion" onclick="showHomeSection(\'eleccion\')">ElecciÃ³n</button>\n      <button class="sub-nav-btn" data-section="contacto" onclick="showHomeSection(\'contacto\')">Contacto</button>\n    </nav>\n    \n    <section class="hero-section hero-intro home-section active" id="hero-section">\n      <div class="hero-content">\n        <h1 class="hero-title">\n          <span class="title-word">Protection</span>\n          <span class="title-word accent">Beyond</span>\n          <span class="title-word">The Limits</span>\n        </h1>\n        <p class="hero-subtitle">\n          MÃ¡s de 25 aÃ±os protegiendo lo que mÃ¡s valoras. \n          Seguros personalizados respaldados por experiencia y compromiso.\n        </p>\n        \n        <div class="hero-stats">\n          <div class="stat-box">\n            <div class="stat-number" data-target="25">0</div>\n            <div class="stat-label">AÃ±os de Experiencia</div>\n          </div>\n          <div class="stat-box">\n            <div class="stat-number" data-target="5000">0</div>\n            <div class="stat-label">Clientes Activos</div>\n          </div>\n          <div class="stat-box">\n            <div class="stat-number" data-target="10000">0</div>\n            <div class="stat-label">PÃ³lizas Vigentes</div>\n          </div>\n          <div class="stat-box">\n            <div class="stat-number" data-target="98">0</div>\n            <div class="stat-label">% SatisfacciÃ³n</div>\n          </div>\n        </div>\n        \n        <button class="btn-home-start" onclick="skipToFinalState()">\n          <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">\n            <path d="M5 12h14M12 5l7 7-7 7"/>\n          </svg>\n          Saltar AnimaciÃ³n\n        </button>\n      </div>\n    </section>\n    \n    <section class="features-section features-parade home-section" id="eleccion-section">\n      <div class="container">\n        <h2 class="section-title">Â¿Por QuÃ© Elegirnos?</h2>\n        <div class="features-grid">\n          <div class="feature-box feature-card-1">\n            <div class="feature-icon">ğŸ›¡ï¸</div>\n            <h3>Cobertura Integral</h3>\n            <p>ProtecciÃ³n completa adaptada a tus necesidades especÃ­ficas</p>\n          </div>\n          <div class="feature-box feature-card-2">\n            <div class="feature-icon">âš¡</div>\n            <h3>Respuesta Inmediata</h3>\n            <p>AtenciÃ³n 24/7 cuando mÃ¡s nos necesitas</p>\n          </div>\n          <div class="feature-box feature-card-3">\n            <div class="feature-icon">ğŸ’°</div>\n            <h3>Mejores Precios</h3>\n            <p>Cotizamos con mÃºltiples aseguradoras para ti</p>\n          </div>\n          <div class="feature-box feature-card-4">\n            <div class="feature-icon">ğŸ‘¨â€ğŸ’¼</div>\n            <h3>AsesorÃ­a Experta</h3>\n            <p>25+ aÃ±os de experiencia a tu servicio</p>\n          </div>\n        </div>\n      </div>\n    </section>\n    \n    <section class="cta-section final-cta home-section" id="contacto-section">\n      <div class="container">\n        <h2 style="margin-bottom: 12px; font-size: clamp(1.8rem, 4vw, 2.2rem);">Contacta a Nuestros Agentes</h2>\n        <p style="margin-bottom: 24px; font-size: 1rem;">Expertos listos para asesorarte</p>\n        \n        <div class="agents-grid">\n          <div class="agent-card">\n            <div class="agent-avatar">ğŸ‘¨â€ğŸ’¼</div>\n            <h4>Carlos MÃ©ndez</h4>\n            <p class="agent-title">Agente Senior</p>\n            <a href="tel:+525512345678" class="agent-contact">ğŸ“ (55) 1234-5678</a>\n          </div>\n          \n          <div class="agent-card">\n            <div class="agent-avatar">ğŸ‘©â€ğŸ’¼</div>\n            <h4>Ana RodrÃ­guez</h4>\n            <p class="agent-title">Especialista Vida</p>\n            <a href="tel:+525598765432" class="agent-contact">ğŸ“ (55) 9876-5432</a>\n          </div>\n          \n          <div class="agent-card">\n            <div class="agent-avatar">ğŸ‘¨â€ğŸ’¼</div>\n            <h4>Miguel Torres</h4>\n            <p class="agent-title">Seguros Auto</p>\n            <a href="tel:+525555551234" class="agent-contact">ğŸ“ (55) 5555-1234</a>\n          </div>\n          \n          <div class="agent-card">\n            <div class="agent-avatar">ğŸ‘©â€ğŸ’¼</div>\n            <h4>Laura GÃ³mez</h4>\n            <p class="agent-title">Seguros Hogar</p>\n            <a href="tel:+525544445555" class="agent-contact">ğŸ“ (55) 4444-5555</a>\n          </div>\n        </div>\n        \n        <div class="cta-buttons" style="margin-top: 24px;">\n          <button class="btn btn-primary" onclick="navigateTo(\'contact\')">\n            Solicitar CotizaciÃ³n\n          </button>\n          <button class="btn btn-secondary" onclick="navigateTo(\'services\')">\n            Ver Servicios\n          </button>\n        </div>\n      </div>\n    </section>\n  ',services:'\n    <section class="page-header">\n      <div class="container">\n        <h1 class="page-title">Nuestros Servicios</h1>\n        <p class="page-subtitle">Cobertura completa para todas tus necesidades</p>\n      </div>\n    </section>\n    \n    <section class="services-section">\n      <div class="container">\n        <div class="services-grid">\n          <div class="service-card-detailed">\n            <div class="service-icon-large">ğŸš—</div>\n            <h3>Seguros de Auto</h3>\n            <p>ProtecciÃ³n completa para tu vehÃ­culo con las mejores coberturas del mercado.</p>\n            <ul class="service-list">\n              <li>âœ“ Responsabilidad Civil</li>\n              <li>âœ“ Cobertura Amplia</li>\n              <li>âœ“ Asistencia Vial 24/7</li>\n              <li>âœ“ Auto de Reemplazo</li>\n              <li>âœ“ Cristales y Robo</li>\n            </ul>\n            <button class="btn btn-outline" onclick="openQuoteModal(\'auto\')">Cotizar Ahora</button>\n          </div>\n          \n          <div class="service-card-detailed featured">\n            <div class="badge">MÃ¡s Popular</div>\n            <div class="service-icon-large">ğŸ </div>\n            <h3>Seguros de Hogar</h3>\n            <p>Tu patrimonio protegido contra todo tipo de riesgos y eventualidades.</p>\n            <ul class="service-list">\n              <li>âœ“ DaÃ±os Estructurales</li>\n              <li>âœ“ Contenido y Bienes</li>\n              <li>âœ“ Responsabilidad Civil</li>\n              <li>âœ“ Desastres Naturales</li>\n              <li>âœ“ Robo y Vandalismo</li>\n            </ul>\n            <button class="btn btn-primary" onclick="openQuoteModal(\'hogar\')">Cotizar Ahora</button>\n          </div>\n          \n          <div class="service-card-detailed">\n            <div class="service-icon-large">â¤ï¸</div>\n            <h3>Seguros de Vida</h3>\n            <p>Asegura el futuro de tus seres queridos con planes flexibles y accesibles.</p>\n            <ul class="service-list">\n              <li>âœ“ Cobertura Familiar</li>\n              <li>âœ“ Planes Personalizados</li>\n              <li>âœ“ Beneficios por Invalidez</li>\n              <li>âœ“ Enfermedades Graves</li>\n              <li>âœ“ Ahorro e InversiÃ³n</li>\n            </ul>\n            <button class="btn btn-outline" onclick="openQuoteModal(\'vida\')">Cotizar Ahora</button>\n          </div>\n          \n          <div class="service-card-detailed">\n            <div class="service-icon-large">ğŸ¢</div>\n            <h3>Seguros Comerciales</h3>\n            <p>ProtecciÃ³n integral para tu negocio y continuidad operativa.</p>\n            <ul class="service-list">\n              <li>âœ“ Responsabilidad General</li>\n              <li>âœ“ Propiedad Comercial</li>\n              <li>âœ“ CompensaciÃ³n Laboral</li>\n              <li>âœ“ InterrupciÃ³n de Negocio</li>\n              <li>âœ“ Cyber Seguridad</li>\n            </ul>\n            <button class="btn btn-outline" onclick="openQuoteModal(\'comercial\')">Cotizar Ahora</button>\n          </div>\n          \n          <div class="service-card-detailed">\n            <div class="service-icon-large">ğŸ’¼</div>\n            <h3>Seguros de Salud</h3>\n            <p>Acceso a los mejores servicios mÃ©dicos con cobertura amplia.</p>\n            <ul class="service-list">\n              <li>âœ“ HospitalizaciÃ³n</li>\n              <li>âœ“ CirugÃ­as y Tratamientos</li>\n              <li>âœ“ Medicamentos</li>\n              <li>âœ“ Red MÃ©dica Extensa</li>\n              <li>âœ“ ExÃ¡menes Preventivos</li>\n            </ul>\n            <button class="btn btn-outline" onclick="openQuoteModal(\'salud\')">Cotizar Ahora</button>\n          </div>\n          \n          <div class="service-card-detailed">\n            <div class="service-icon-large">âœˆï¸</div>\n            <h3>Seguros de Viaje</h3>\n            <p>Viaja tranquilo con cobertura internacional completa.</p>\n            <ul class="service-list">\n              <li>âœ“ Asistencia Mundial</li>\n              <li>âœ“ Gastos MÃ©dicos</li>\n              <li>âœ“ CancelaciÃ³n de Viaje</li>\n              <li>âœ“ Equipaje Protegido</li>\n              <li>âœ“ RepatriaciÃ³n</li>\n            </ul>\n            <button class="btn btn-outline" onclick="openQuoteModal(\'viaje\')">Cotizar Ahora</button>\n          </div>\n        </div>\n      </div>\n    </section>\n  ',about:'\n    <section class="page-header">\n      <div class="container">\n        <h1 class="page-title">Sobre Nosotros</h1>\n        <p class="page-subtitle">Protection Beyond The Limits</p>\n      </div>\n    </section>\n    \n    <section class="about-section">\n      <div class="container">\n        <div class="about-grid">\n          <div class="about-content">\n            <h2>Nuestra Historia</h2>\n            <p>Con mÃ¡s de 25 aÃ±os de experiencia en el sector de seguros, Krause Insurance ha protegido a miles de familias y negocios. Fundada por Guillermo Krause, nuestra empresa se ha construido sobre los pilares de confianza, profesionalismo y compromiso genuino con nuestros clientes.</p>\n            \n            <h3 style="margin-top: 2rem;">Nuestra MisiÃ³n</h3>\n            <p>Proporcionar soluciones de seguros personalizadas que superen las expectativas de nuestros clientes, brindando protecciÃ³n integral y paz mental.</p>\n            \n            <h3 style="margin-top: 2rem;">Nuestros Valores</h3>\n            <ul class="values-list">\n              <li><strong>Integridad:</strong> Actuamos con honestidad y transparencia</li>\n              <li><strong>Compromiso:</strong> Dedicados al bienestar de nuestros clientes</li>\n              <li><strong>Excelencia:</strong> Buscamos la perfecciÃ³n en cada servicio</li>\n              <li><strong>InnovaciÃ³n:</strong> AdaptÃ¡ndonos a las necesidades cambiantes</li>\n            </ul>\n          </div>\n          \n          <div class="about-image">\n            <div class="stat-highlight">\n              <div class="stat-number">25+</div>\n              <div class="stat-text">AÃ±os de Experiencia</div>\n            </div>\n            <div class="stat-highlight">\n              <div class="stat-number">5,000+</div>\n              <div class="stat-text">Clientes Satisfechos</div>\n            </div>\n            <div class="stat-highlight">\n              <div class="stat-number">98%</div>\n              <div class="stat-text">SatisfacciÃ³n</div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </section>\n    \n    <section class="team-section">\n      <div class="container">\n        <h2 class="section-title">Nuestro Equipo</h2>\n        <div class="team-grid">\n          <div class="team-member">\n            <div class="member-avatar">GK</div>\n            <h3>Guillermo Krause</h3>\n            <p class="member-role">Fundador & CEO</p>\n            <p>25+ aÃ±os liderando la industria de seguros con pasiÃ³n y dedicaciÃ³n.</p>\n          </div>\n          <div class="team-member">\n            <div class="member-avatar">AS</div>\n            <h3>Agentes Especializados</h3>\n            <p class="member-role">Equipo Comercial</p>\n            <p>Expertos certificados listos para asesorarte en cada paso.</p>\n          </div>\n          <div class="team-member">\n            <div class="member-avatar">SC</div>\n            <h3>Servicio al Cliente</h3>\n            <p class="member-role">Soporte 24/7</p>\n            <p>Siempre disponibles para resolver tus dudas y necesidades.</p>\n          </div>\n        </div>\n      </div>\n    </section>\n  ',contact:'\n    <section class="page-header">\n      <div class="container">\n        <h1 class="page-title">ContÃ¡ctanos</h1>\n        <p class="page-subtitle">Estamos aquÃ­ para ayudarte</p>\n      </div>\n    </section>\n    \n    <section class="contact-section">\n      <div class="container">\n        <div class="contact-grid-layout">\n          <div class="contact-info-panel">\n            <h2>InformaciÃ³n de Contacto</h2>\n            <p>Â¿Tienes preguntas? Estamos aquÃ­ para responder. ContÃ¡ctanos por cualquiera de estos medios:</p>\n            \n            <div class="contact-methods-list">\n              <div class="contact-method-item">\n                <div class="method-icon">ğŸ“</div>\n                <div>\n                  <div class="method-label">TelÃ©fono</div>\n                  <a href="tel:+123456789" class="method-value">+1 (234) 567-89</a>\n                </div>\n              </div>\n              \n              <div class="contact-method-item">\n                <div class="method-icon">ğŸ“§</div>\n                <div>\n                  <div class="method-label">Email</div>\n                  <a href="mailto:info@krauseinsurances.com" class="method-value">info@krauseinsurances.com</a>\n                </div>\n              </div>\n              \n              <div class="contact-method-item">\n                <div class="method-icon">ğŸ“</div>\n                <div>\n                  <div class="method-label">Oficina</div>\n                  <div class="method-value">Tu Ciudad, Estado<br>CÃ³digo Postal</div>\n                </div>\n              </div>\n              \n              <div class="contact-method-item">\n                <div class="method-icon">ğŸ•</div>\n                <div>\n                  <div class="method-label">Horario</div>\n                  <div class="method-value">Lun - Vie: 9:00 AM - 6:00 PM<br>SÃ¡b: 10:00 AM - 2:00 PM</div>\n                </div>\n              </div>\n            </div>\n            \n            <div class="social-links-contact">\n              <a href="#" class="social-link">LinkedIn</a>\n              <a href="#" class="social-link">Facebook</a>\n              <a href="#" class="social-link">Instagram</a>\n            </div>\n          </div>\n          \n          <div class="contact-form-panel">\n            <h2>EnvÃ­anos un Mensaje</h2>\n            <form class="contact-form-app" onsubmit="handleContactSubmit(event)">\n              <div class="form-row">\n                <div class="form-group">\n                  <input type="text" class="form-control" placeholder="Nombre completo" required>\n                </div>\n              </div>\n              \n              <div class="form-row">\n                <div class="form-group">\n                  <input type="email" class="form-control" placeholder="Email" required>\n                </div>\n              </div>\n              \n              <div class="form-row">\n                <div class="form-group">\n                  <input type="tel" class="form-control" placeholder="TelÃ©fono" required>\n                </div>\n              </div>\n              \n              <div class="form-row">\n                <div class="form-group">\n                  <select class="form-control" required>\n                    <option value="">Selecciona un servicio</option>\n                    <option value="auto">Seguro de Auto</option>\n                    <option value="hogar">Seguro de Hogar</option>\n                    <option value="vida">Seguro de Vida</option>\n                    <option value="salud">Seguro de Salud</option>\n                    <option value="comercial">Seguro Comercial</option>\n                    <option value="viaje">Seguro de Viaje</option>\n                  </select>\n                </div>\n              </div>\n              \n              <div class="form-row">\n                <div class="form-group">\n                  <textarea class="form-control" rows="5" placeholder="CuÃ©ntanos cÃ³mo podemos ayudarte..." required></textarea>\n                </div>\n              </div>\n              \n              <button type="submit" class="btn btn-primary btn-block">\n                Enviar Mensaje\n              </button>\n            </form>\n          </div>\n        </div>\n      </div>\n    </section>\n  ',login:'\n    <section class="auth-section">\n      <div class="auth-container">\n        <div class="auth-card">\n          <div class="auth-header">\n            <svg class="logo-shield-auth" width="60" height="60" viewBox="0 0 100 100" fill="none">\n              <path d="M50 10 L80 25 L80 50 Q80 75 50 90 Q20 75 20 50 L20 25 Z" fill="currentColor"/>\n              <text x="50" y="60" text-anchor="middle" font-size="40" font-weight="bold" fill="white">K</text>\n            </svg>\n            <h2>Portal de Clientes</h2>\n            <p>Accede a tu cuenta para revisar tus pÃ³lizas</p>\n          </div>\n          \n          <form class="auth-form" onsubmit="handleClientLogin(event)">\n            <div class="form-group">\n              <label class="form-label">NÃºmero de PÃ³liza o Email</label>\n              <input type="text" class="form-control" placeholder="Ingresa tu nÃºmero de pÃ³liza" required>\n            </div>\n            \n            <div class="form-group">\n              <label class="form-label">ContraseÃ±a</label>\n              <input type="password" class="form-control" placeholder="Ingresa tu contraseÃ±a" required>\n            </div>\n            \n            <div class="form-options">\n              <label class="checkbox-label">\n                <input type="checkbox"> Recordarme\n              </label>\n              <a href="#" class="link-text">Â¿Olvidaste tu contraseÃ±a?</a>\n            </div>\n            \n            <button type="submit" class="btn btn-primary btn-block">\n              Iniciar SesiÃ³n\n            </button>\n          </form>\n          \n          <div class="auth-footer">\n            <p>Â¿No tienes cuenta? <a href="#" onclick="navigateTo(\'contact\')" class="link-text">ContÃ¡ctanos</a></p>\n          </div>\n          \n          <div class="demo-credentials">\n            <p><strong>Credenciales de Prueba:</strong></p>\n            <p>Usuario: cliente@demo.com</p>\n            <p>ContraseÃ±a: demo123</p>\n          </div>\n        </div>\n      </div>\n    </section>\n  ',"agent-login":'\n    <section class="auth-section">\n      <div class="auth-container">\n        <div class="auth-card">\n          <div class="auth-header">\n            <svg class="logo-shield-auth" width="60" height="60" viewBox="0 0 100 100" fill="none">\n              <path d="M50 10 L80 25 L80 50 Q80 75 50 90 Q20 75 20 50 L20 25 Z" fill="currentColor"/>\n              <text x="50" y="60" text-anchor="middle" font-size="40" font-weight="bold" fill="white">K</text>\n            </svg>\n            <h2>Portal de Agentes</h2>\n            <p>Acceso exclusivo para agentes certificados</p>\n          </div>\n          \n          <form class="auth-form" onsubmit="handleAgentLogin(event)">\n            <div class="form-group">\n              <label class="form-label">ID de Agente</label>\n              <input type="text" class="form-control" placeholder="Ingresa tu ID de agente" required>\n            </div>\n            \n            <div class="form-group">\n              <label class="form-label">ContraseÃ±a</label>\n              <input type="password" class="form-control" placeholder="Ingresa tu contraseÃ±a" required>\n            </div>\n            \n            <div class="form-options">\n              <label class="checkbox-label">\n                <input type="checkbox"> Recordarme\n              </label>\n              <a href="#" class="link-text">Â¿Olvidaste tu contraseÃ±a?</a>\n            </div>\n            \n            <button type="submit" class="btn btn-primary btn-block">\n              Iniciar SesiÃ³n\n            </button>\n          </form>\n          \n          <div class="auth-footer">\n            <p>Â¿Nuevo agente? <a href="#" onclick="showAgentRegistration()" class="link-text">Solicita acceso</a></p>\n          </div>\n          \n          <div class="demo-credentials">\n            <p><strong>Credenciales de Prueba:</strong></p>\n            <p>Agente: agente@demo.com</p>\n            <p>ContraseÃ±a: agent123</p>\n          </div>\n        </div>\n      </div>\n    </section>\n  '};function loadPage(n){const t=document.getElementById("mainContent");pages[n]?(t.innerHTML=pages[n],"home"===n&&setTimeout(()=>{initStatsAnimation(),startHomeSequence()},100)):t.innerHTML='<div class="container"><h1>PÃ¡gina no encontrada</h1></div>'}function startHomeSequence(){const n=document.querySelector(".hero-intro"),t=document.querySelector(".features-parade"),a=document.querySelector(".final-cta"),e=document.getElementById("sub-nav"),s=document.querySelector(".btn-home-start");n&&t&&a&&(document.body.classList.add("section-hero"),e&&(e.style.display="flex",e.querySelectorAll(".sub-nav-btn").forEach(n=>{n.style.display="none"})),setTimeout(()=>{document.body.classList.remove("section-hero"),document.body.classList.add("section-parade"),n.classList.add("fade-out-up"),setTimeout(()=>{const n=e.querySelector('[data-section="hero"]');n&&(n.style.display="inline-block",n.classList.add("btn-droplet"),setTimeout(()=>n.classList.remove("btn-droplet"),600))},400),setTimeout(()=>{n.classList.remove("active"),t.classList.add("active"),setTimeout(()=>{document.body.classList.remove("section-parade"),document.body.classList.add("section-cta"),t.classList.add("fade-out-up"),setTimeout(()=>{const n=e.querySelector('[data-section="eleccion"]');n&&(n.style.display="inline-block",n.classList.add("btn-droplet"),setTimeout(()=>n.classList.remove("btn-droplet"),600))},400),setTimeout(()=>{t.classList.remove("active"),a.classList.add("active"),setTimeout(()=>{const n=e.querySelector('[data-section="contacto"]');n&&(n.style.display="inline-block",n.classList.add("btn-droplet"),setTimeout(()=>n.classList.remove("btn-droplet"),600))},400),s&&(s.style.display="none")},800)},8e3)},800)},6e3))}function skipToFinalState(){const n=document.querySelector(".hero-intro"),t=document.querySelector(".features-parade"),a=document.querySelector(".final-cta"),e=document.getElementById("sub-nav"),s=document.querySelector(".btn-home-start");n&&t&&a&&(document.body.classList.remove("section-hero","section-parade"),document.body.classList.add("section-cta"),n.classList.remove("active","fade-out-up"),t.classList.remove("active","fade-out-up"),a.classList.add("active"),e&&(e.style.display="flex",e.querySelectorAll(".sub-nav-btn").forEach((n,t)=>{n.style.display="inline-block",setTimeout(()=>{n.classList.add("btn-droplet"),setTimeout(()=>n.classList.remove("btn-droplet"),600)},150*t)})),s&&(s.style.display="none"))}function showHomeSection(n){document.body.classList.remove("section-hero","section-parade","section-cta"),"hero"===n?document.body.classList.add("section-hero"):"eleccion"===n?document.body.classList.add("section-parade"):"contacto"===n&&document.body.classList.add("section-cta"),document.querySelectorAll(".sub-nav-btn").forEach(t=>{t.classList.remove("active"),t.dataset.section===n&&t.classList.add("active")}),document.querySelectorAll(".home-section").forEach(n=>{n.classList.remove("active"),n.classList.remove("fade-out-up"),n.style.display="none"});const t=document.getElementById(`${n}-section`);t&&(t.style.display="flex",t.classList.add("active"),"hero"===n&&setTimeout(initStatsAnimation,100))}function toggleFooter(){const n=document.getElementById("footer"),t=document.getElementById("footer-toggle-text");n.classList.contains("collapsed")?(n.classList.remove("collapsed"),t.textContent="Ocultar InformaciÃ³n"):(n.classList.add("collapsed"),t.textContent="Mostrar InformaciÃ³n")}function initStatsAnimation(){document.querySelectorAll(".stat-number").forEach(n=>{animateCounter(n,parseInt(n.dataset.target))})}function animateCounter(n,t,a=2e3){const e=Date.now();requestAnimationFrame(function s(){const i=Date.now(),o=Math.min((i-e)/a,1),c=1-Math.pow(1-o,3),l=Math.floor(c*t);n.textContent=l,o<1?requestAnimationFrame(s):n.textContent=t})}function handleContactSubmit(n){n.preventDefault(),showNotification("Mensaje enviado exitosamente. Te contactaremos pronto.","success"),n.target.reset()}function handleClientLogin(n){n.preventDefault();const t=n.target[0].value,a=n.target[1].value;"cliente@demo.com"===t&&"demo123"===a?(currentUser={name:"Juan Cliente",type:"client",email:t},localStorage.setItem("krause_user",JSON.stringify(currentUser)),showNotification("Inicio de sesiÃ³n exitoso","success"),navigateTo("dashboard")):showNotification("Credenciales incorrectas","error")}function handleAgentLogin(n){n.preventDefault();const t=n.target[0].value,a=n.target[1].value;"agente@demo.com"===t&&"agent123"===a?(currentUser={name:"Guillermo Krause",type:"agent",id:t},localStorage.setItem("krause_user",JSON.stringify(currentUser)),showNotification("Inicio de sesiÃ³n exitoso","success"),navigateTo("agent-dashboard")):showNotification("Credenciales incorrectas","error")}function viewPolicy(n){showNotification(`Mostrando detalles de pÃ³liza ${n}`,"info")}function makePayment(){showNotification("Redirigiendo a pasarela de pago...","info")}function fileClaim(){showNotification("Abriendo formulario de siniestros...","info")}function updateInfo(){showNotification("Abriendo formulario de actualizaciÃ³n...","info")}function contactAgent(){showNotification("Abriendo chat con agente...","info")}function downloadPaymentHistory(){showNotification("Descargando historial...","info")}function openQuoteModal(n){showNotification(`Abriendo cotizaciÃ³n para seguro de ${n}`,"info")}function addNewClient(){showNotification("Abriendo formulario de nuevo cliente...","info")}function viewClientDetails(n){showNotification(`Mostrando detalles del cliente ${n}`,"info")}function editClient(n){showNotification(`Editando cliente ${n}`,"info")}function processQuote(n){showNotification(`Procesando cotizaciÃ³n ${n}`,"info")}function createQuote(){showNotification("Creando nueva cotizaciÃ³n...","info")}function processRenewal(){showNotification("Abriendo renovaciones pendientes...","info")}function viewReports(){showNotification("Generando reportes...","info")}function completeTask(n){showNotification("Tarea completada","success")}function viewCommissionDetails(){showNotification("Mostrando detalle de comisiones...","info")}function showAgentRegistration(){showNotification("Contacta al administrador para solicitar acceso como agente","info")}pages.dashboard=`\n  <section class="dashboard-section">\n    <div class="dashboard-container">\n      <div class="dashboard-header">\n        <div>\n          <h1>Mi Dashboard</h1>\n          <p>Bienvenido, ${currentUser?.name||"Cliente"}</p>\n        </div>\n        <button class="btn btn-outline" onclick="logout()">Cerrar SesiÃ³n</button>\n      </div>\n      \n      <div class="dashboard-stats">\n        <div class="dashboard-stat-card">\n          <div class="stat-icon">ğŸ“„</div>\n          <div class="stat-info">\n            <div class="stat-value">3</div>\n            <div class="stat-label">PÃ³lizas Activas</div>\n          </div>\n        </div>\n        <div class="dashboard-stat-card">\n          <div class="stat-icon">âœ…</div>\n          <div class="stat-info">\n            <div class="stat-value">Al DÃ­a</div>\n            <div class="stat-label">Estado de Pagos</div>\n          </div>\n        </div>\n        <div class="dashboard-stat-card">\n          <div class="stat-icon">ğŸ“…</div>\n          <div class="stat-info">\n            <div class="stat-value">15 Mar</div>\n            <div class="stat-label">PrÃ³ximo Pago</div>\n          </div>\n        </div>\n        <div class="dashboard-stat-card">\n          <div class="stat-icon">ğŸ’°</div>\n          <div class="stat-info">\n            <div class="stat-value">$450</div>\n            <div class="stat-label">Total Mensual</div>\n          </div>\n        </div>\n      </div>\n      \n      <div class="dashboard-grid">\n        <div class="dashboard-main">\n          <div class="dashboard-card">\n            <div class="card-header">\n              <h3>Mis PÃ³lizas</h3>\n              <button class="btn btn-sm btn-outline" onclick="showNotification('FunciÃ³n disponible prÃ³ximamente', 'info')">Nueva PÃ³liza</button>\n            </div>\n            <div class="policies-list">\n              <div class="policy-item">\n                <div class="policy-icon">ğŸš—</div>\n                <div class="policy-info">\n                  <h4>Seguro de Auto</h4>\n                  <p>Toyota Camry 2022 â€¢ PÃ³liza #A-12345</p>\n                  <div class="policy-meta">\n                    <span class="badge badge-success">Activa</span>\n                    <span>Vence: 15 Dic 2025</span>\n                  </div>\n                </div>\n                <div class="policy-actions">\n                  <button class="btn btn-sm btn-outline" onclick="viewPolicy('A-12345')">Ver Detalles</button>\n                </div>\n              </div>\n              \n              <div class="policy-item">\n                <div class="policy-icon">ğŸ </div>\n                <div class="policy-info">\n                  <h4>Seguro de Hogar</h4>\n                  <p>Propiedad Residencial â€¢ PÃ³liza #H-67890</p>\n                  <div class="policy-meta">\n                    <span class="badge badge-success">Activa</span>\n                    <span>Vence: 20 Nov 2025</span>\n                  </div>\n                </div>\n                <div class="policy-actions">\n                  <button class="btn btn-sm btn-outline" onclick="viewPolicy('H-67890')">Ver Detalles</button>\n                </div>\n              </div>\n              \n              <div class="policy-item">\n                <div class="policy-icon">â¤ï¸</div>\n                <div class="policy-info">\n                  <h4>Seguro de Vida</h4>\n                  <p>Plan Familiar â€¢ PÃ³liza #V-24680</p>\n                  <div class="policy-meta">\n                    <span class="badge badge-success">Activa</span>\n                    <span>Vence: 01 Ene 2026</span>\n                  </div>\n                </div>\n                <div class="policy-actions">\n                  <button class="btn btn-sm btn-outline" onclick="viewPolicy('V-24680')">Ver Detalles</button>\n                </div>\n              </div>\n            </div>\n          </div>\n          \n          <div class="dashboard-card">\n            <div class="card-header">\n              <h3>Historial de Pagos</h3>\n              <button class="btn btn-sm btn-outline" onclick="downloadPaymentHistory()">Descargar</button>\n            </div>\n            <div class="payments-table">\n              <table>\n                <thead>\n                  <tr>\n                    <th>Fecha</th>\n                    <th>PÃ³liza</th>\n                    <th>Monto</th>\n                    <th>Estado</th>\n                  </tr>\n                </thead>\n                <tbody>\n                  <tr>\n                    <td>15 Feb 2025</td>\n                    <td>Auto - A-12345</td>\n                    <td>$150.00</td>\n                    <td><span class="badge badge-success">Pagado</span></td>\n                  </tr>\n                  <tr>\n                    <td>20 Ene 2025</td>\n                    <td>Hogar - H-67890</td>\n                    <td>$200.00</td>\n                    <td><span class="badge badge-success">Pagado</span></td>\n                  </tr>\n                  <tr>\n                    <td>01 Ene 2025</td>\n                    <td>Vida - V-24680</td>\n                    <td>$100.00</td>\n                    <td><span class="badge badge-success">Pagado</span></td>\n                  </tr>\n                </tbody>\n              </table>\n            </div>\n          </div>\n        </div>\n        \n        <div class="dashboard-sidebar">\n          <div class="dashboard-card">\n            <h3>Acciones RÃ¡pidas</h3>\n            <div class="quick-actions">\n              <button class="btn btn-outline btn-block" onclick="makePayment()">\n                ğŸ’³ Realizar Pago\n              </button>\n              <button class="btn btn-outline btn-block" onclick="fileClaim()">\n                ğŸ“‹ Reportar Siniestro\n              </button>\n              <button class="btn btn-outline btn-block" onclick="updateInfo()">\n                âœï¸ Actualizar InformaciÃ³n\n              </button>\n              <button class="btn btn-outline btn-block" onclick="contactAgent()">\n                ğŸ“ Contactar Agente\n              </button>\n            </div>\n          </div>\n          \n          <div class="dashboard-card">\n            <h3>Mi Agente</h3>\n            <div class="agent-info">\n              <div class="agent-avatar">GK</div>\n              <h4>Guillermo Krause</h4>\n              <p>Agente Principal</p>\n              <div class="agent-contact">\n                <p>ğŸ“ +1 (234) 567-89</p>\n                <p>ğŸ“§ gkrause@krauseins.com</p>\n              </div>\n              <button class="btn btn-sm btn-outline btn-block" onclick="contactAgent()">Contactar</button>\n            </div>\n          </div>\n          \n          <div class="dashboard-card">\n            <h3>Documentos</h3>\n            <div class="documents-list">\n              <a href="#" class="document-link">\n                ğŸ“„ PÃ³liza Auto (PDF)\n              </a>\n              <a href="#" class="document-link">\n                ğŸ“„ PÃ³liza Hogar (PDF)\n              </a>\n              <a href="#" class="document-link">\n                ğŸ“„ PÃ³liza Vida (PDF)\n              </a>\n              <a href="#" class="document-link">\n                ğŸ“Š Estado de Cuenta\n              </a>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </section>\n`,pages["agent-dashboard"]=`\n  <section class="dashboard-section agent-dashboard">\n    <div class="dashboard-container">\n      <div class="dashboard-header">\n        <div>\n          <h1>Panel de Agente</h1>\n          <p>Bienvenido, ${currentUser?.name||"Agente"}</p>\n        </div>\n        <button class="btn btn-outline" onclick="logout()">Cerrar SesiÃ³n</button>\n      </div>\n      \n      <div class="dashboard-stats">\n        <div class="dashboard-stat-card">\n          <div class="stat-icon">ğŸ‘¥</div>\n          <div class="stat-info">\n            <div class="stat-value">142</div>\n            <div class="stat-label">Clientes Activos</div>\n          </div>\n        </div>\n        <div class="dashboard-stat-card">\n          <div class="stat-icon">ğŸ“„</div>\n          <div class="stat-info">\n            <div class="stat-value">256</div>\n            <div class="stat-label">PÃ³lizas Totales</div>\n          </div>\n        </div>\n        <div class="dashboard-stat-card">\n          <div class="stat-icon">ğŸ’°</div>\n          <div class="stat-info">\n            <div class="stat-value">$85K</div>\n            <div class="stat-label">Primas Este Mes</div>\n          </div>\n        </div>\n        <div class="dashboard-stat-card">\n          <div class="stat-icon">ğŸ“ˆ</div>\n          <div class="stat-info">\n            <div class="stat-value">+12%</div>\n            <div class="stat-label">Crecimiento</div>\n          </div>\n        </div>\n      </div>\n      \n      <div class="dashboard-grid">\n        <div class="dashboard-main">\n          <div class="dashboard-card">\n            <div class="card-header">\n              <h3>Clientes Recientes</h3>\n              <button class="btn btn-sm btn-primary" onclick="addNewClient()">+ Nuevo Cliente</button>\n            </div>\n            <div class="clients-table">\n              <table>\n                <thead>\n                  <tr>\n                    <th>Cliente</th>\n                    <th>PÃ³lizas</th>\n                    <th>Estado</th>\n                    <th>Ãšltima Actividad</th>\n                    <th>Acciones</th>\n                  </tr>\n                </thead>\n                <tbody>\n                  <tr>\n                    <td>\n                      <div class="client-cell">\n                        <div class="client-avatar">MG</div>\n                        <div>\n                          <div class="client-name">MarÃ­a GonzÃ¡lez</div>\n                          <div class="client-email">maria.g@email.com</div>\n                        </div>\n                      </div>\n                    </td>\n                    <td>3 Activas</td>\n                    <td><span class="badge badge-success">Al DÃ­a</span></td>\n                    <td>Hace 2 dÃ­as</td>\n                    <td>\n                      <button class="btn-icon" onclick="viewClientDetails('MG')">ğŸ‘ï¸</button>\n                      <button class="btn-icon" onclick="editClient('MG')">âœï¸</button>\n                    </td>\n                  </tr>\n                  <tr>\n                    <td>\n                      <div class="client-cell">\n                        <div class="client-avatar">CR</div>\n                        <div>\n                          <div class="client-name">Carlos RamÃ­rez</div>\n                          <div class="client-email">carlos.r@email.com</div>\n                        </div>\n                      </div>\n                    </td>\n                    <td>2 Activas</td>\n                    <td><span class="badge badge-success">Al DÃ­a</span></td>\n                    <td>Hace 5 dÃ­as</td>\n                    <td>\n                      <button class="btn-icon" onclick="viewClientDetails('CR')">ğŸ‘ï¸</button>\n                      <button class="btn-icon" onclick="editClient('CR')">âœï¸</button>\n                    </td>\n                  </tr>\n                  <tr>\n                    <td>\n                      <div class="client-cell">\n                        <div class="client-avatar">AM</div>\n                        <div>\n                          <div class="client-name">Ana MartÃ­nez</div>\n                          <div class="client-email">ana.m@email.com</div>\n                        </div>\n                      </div>\n                    </td>\n                    <td>4 Activas</td>\n                    <td><span class="badge badge-warning">Pago Pendiente</span></td>\n                    <td>Hace 1 semana</td>\n                    <td>\n                      <button class="btn-icon" onclick="viewClientDetails('AM')">ğŸ‘ï¸</button>\n                      <button class="btn-icon" onclick="editClient('AM')">âœï¸</button>\n                    </td>\n                  </tr>\n                </tbody>\n              </table>\n            </div>\n          </div>\n          \n          <div class="dashboard-card">\n            <div class="card-header">\n              <h3>Cotizaciones Pendientes</h3>\n            </div>\n            <div class="quotes-list">\n              <div class="quote-item">\n                <div class="quote-info">\n                  <h4>Juan PÃ©rez - Seguro de Auto</h4>\n                  <p>Toyota Corolla 2023</p>\n                  <span class="quote-date">Solicitado: 28 Nov 2025</span>\n                </div>\n                <button class="btn btn-sm btn-primary" onclick="processQuote('Q-001')">Procesar</button>\n              </div>\n              <div class="quote-item">\n                <div class="quote-info">\n                  <h4>SofÃ­a LÃ³pez - Seguro de Hogar</h4>\n                  <p>Casa 2 pisos, $350K</p>\n                  <span class="quote-date">Solicitado: 27 Nov 2025</span>\n                </div>\n                <button class="btn btn-sm btn-primary" onclick="processQuote('Q-002')">Procesar</button>\n              </div>\n            </div>\n          </div>\n        </div>\n        \n        <div class="dashboard-sidebar">\n          <div class="dashboard-card">\n            <h3>Acciones RÃ¡pidas</h3>\n            <div class="quick-actions">\n              <button class="btn btn-primary btn-block" onclick="addNewClient()">\n                ğŸ‘¥ Nuevo Cliente\n              </button>\n              <button class="btn btn-outline btn-block" onclick="createQuote()">\n                ğŸ“ Nueva CotizaciÃ³n\n              </button>\n              <button class="btn btn-outline btn-block" onclick="processRenewal()">\n                ğŸ”„ Renovaciones\n              </button>\n              <button class="btn btn-outline btn-block" onclick="viewReports()">\n                ğŸ“Š Reportes\n              </button>\n            </div>\n          </div>\n          \n          <div class="dashboard-card">\n            <h3>Tareas Pendientes</h3>\n            <div class="tasks-list">\n              <div class="task-item">\n                <input type="checkbox" onchange="completeTask(1)">\n                <span>Seguimiento a MarÃ­a GonzÃ¡lez</span>\n              </div>\n              <div class="task-item">\n                <input type="checkbox" onchange="completeTask(2)">\n                <span>RenovaciÃ³n pÃ³liza Carlos R.</span>\n              </div>\n              <div class="task-item">\n                <input type="checkbox" onchange="completeTask(3)">\n                <span>Llamar a Ana MartÃ­nez (pago)</span>\n              </div>\n            </div>\n          </div>\n          \n          <div class="dashboard-card">\n            <h3>Comisiones</h3>\n            <div class="commissions-info">\n              <div class="commission-row">\n                <span>Este Mes:</span>\n                <strong>$3,250</strong>\n              </div>\n              <div class="commission-row">\n                <span>Mes Anterior:</span>\n                <strong>$2,890</strong>\n              </div>\n              <div class="commission-row">\n                <span>AÃ±o a la Fecha:</span>\n                <strong>$28,450</strong>\n              </div>\n              <button class="btn btn-sm btn-outline btn-block" onclick="viewCommissionDetails()">Ver Detalles</button>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </section>\n`;const canvas=document.getElementById("particles-canvas"),ctx=canvas.getContext("2d");let particles=[];function resizeCanvas(){canvas.width=window.innerWidth,canvas.height=window.innerHeight}resizeCanvas(),window.addEventListener("resize",resizeCanvas);class Particle{constructor(){this.x=Math.random()*canvas.width,this.y=Math.random()*canvas.height,this.size=4*Math.random()+2,this.speedX=.5*Math.random()-.25,this.speedY=.5*Math.random()-.25,this.opacity=.4*Math.random()+.4}update(){this.x+=this.speedX,this.y+=this.speedY,this.x>canvas.width&&(this.x=0),this.x<0&&(this.x=canvas.width),this.y>canvas.height&&(this.y=0),this.y<0&&(this.y=canvas.height)}draw(){ctx.fillStyle=`rgba(255, 255, 255, ${this.opacity})`,ctx.beginPath(),ctx.arc(this.x,this.y,this.size,0,2*Math.PI),ctx.fill()}}function initParticles(){particles=[];const n=Math.min(100,Math.floor(canvas.width*canvas.height/1e4));for(let t=0;t<n;t++)particles.push(new Particle)}function animateParticles(){ctx.clearRect(0,0,canvas.width,canvas.height),particles.forEach(n=>{n.update(),n.draw()}),requestAnimationFrame(animateParticles)}initParticles(),animateParticles();let lastScroll=0;window.addEventListener("scroll",()=>{const n=document.getElementById("navbar"),t=window.pageYOffset;t>50?n.classList.add("scrolled"):n.classList.remove("scrolled"),lastScroll=t}),document.addEventListener("DOMContentLoaded",()=>{checkAuth()?"client"===currentUser.type?navigateTo("dashboard"):"agent"===currentUser.type?navigateTo("agent-dashboard"):navigateTo("home"):navigateTo("home")}),console.log("ğŸ›ï¸ Krause Insurance App cargada correctamente");