function animateCounter(t,e,a=2e3){const r=Date.now();requestAnimationFrame(function n(){const s=Date.now(),o=Math.min((s-r)/a,1),i=1-Math.pow(1-o,3),c=Math.floor(i*e);t.textContent=c,o<1?requestAnimationFrame(n):t.textContent=e})}const observerOptions={threshold:.5,rootMargin:"0px"},statsObserver=new IntersectionObserver(t=>{t.forEach(t=>{t.isIntersecting&&(t.target.querySelectorAll(".stat-number").forEach(t=>{animateCounter(t,parseInt(t.dataset.target),2500)}),statsObserver.unobserve(t.target))})},observerOptions),heroStats=document.querySelector(".hero-stats");heroStats&&statsObserver.observe(heroStats);const scrollObserver=new IntersectionObserver(t=>{t.forEach(t=>{t.isIntersecting&&t.target.classList.add("visible")})},{threshold:.1});function scrollToContact(){document.getElementById("contact").scrollIntoView({behavior:"smooth"})}function scrollToServices(){document.getElementById("services").scrollIntoView({behavior:"smooth"})}function handleSubmit(t){t.preventDefault(),new FormData(t.target),alert("Â¡Gracias por tu interÃ©s! Te contactaremos pronto para tu cotizaciÃ³n personalizada."),t.target.reset()}document.querySelectorAll(".service-card, .feature-card, .testimonial-card").forEach(t=>{t.classList.add("fade-in-on-scroll"),scrollObserver.observe(t)});const canvas=document.getElementById("particles-canvas"),ctx=canvas.getContext("2d");let animationFrameId,particles=[];function resizeCanvas(){canvas.width=window.innerWidth,canvas.height=window.innerHeight}resizeCanvas(),window.addEventListener("resize",resizeCanvas);class Particle{constructor(){this.x=Math.random()*canvas.width,this.y=Math.random()*canvas.height,this.size=4*Math.random()+2,this.speedX=.8*Math.random()-.4,this.speedY=.8*Math.random()-.4,this.opacity=.6*Math.random()+.4}update(){this.x+=this.speedX,this.y+=this.speedY,this.x>canvas.width&&(this.x=0),this.x<0&&(this.x=canvas.width),this.y>canvas.height&&(this.y=0),this.y<0&&(this.y=canvas.height)}draw(){ctx.fillStyle=`rgba(255, 255, 255, ${this.opacity})`,ctx.beginPath(),ctx.arc(this.x,this.y,this.size,0,2*Math.PI),ctx.fill()}}function initParticles(){particles=[];const t=Math.min(80,Math.floor(canvas.width*canvas.height/1e4));for(let e=0;e<t;e++)particles.push(new Particle)}function animateParticles(){ctx.clearRect(0,0,canvas.width,canvas.height),particles.forEach(t=>{t.update(),t.draw()}),particles.forEach((t,e)=>{particles.slice(e+1).forEach(e=>{const a=t.x-e.x,r=t.y-e.y,n=Math.sqrt(a*a+r*r);n<150&&(ctx.strokeStyle=`rgba(255, 255, 255, ${.2*(1-n/150)})`,ctx.lineWidth=1,ctx.beginPath(),ctx.moveTo(t.x,t.y),ctx.lineTo(e.x,e.y),ctx.stroke())})}),animationFrameId=requestAnimationFrame(animateParticles)}initParticles(),animateParticles();let lastScroll=0;const navbar=document.querySelector(".navbar");window.addEventListener("scroll",()=>{const t=window.pageYOffset;t>100?(navbar.style.background="rgba(255, 255, 255, 0.95)",navbar.style.boxShadow="0 4px 20px rgba(0, 0, 0, 0.1)",navbar.querySelectorAll(".logo-text").forEach(t=>{t.style.color="var(--brand-maroon)"})):(navbar.style.background="rgba(255, 255, 255, 0.1)",navbar.style.boxShadow="none",navbar.querySelectorAll(".logo-text").forEach(t=>{t.style.color="var(--white)"})),lastScroll=t}),window.addEventListener("scroll",()=>{const t=window.pageYOffset,e=document.querySelector(".hero-content");e&&t<window.innerHeight&&(e.style.transform=`translateY(${.5*t}px)`,e.style.opacity=1-t/window.innerHeight*.5)}),document.querySelectorAll(".service-card").forEach(t=>{t.addEventListener("mousemove",e=>{const a=t.getBoundingClientRect(),r=e.clientX-a.left,n=e.clientY-a.top,s=a.width/2,o=(n-a.height/2)/20,i=(s-r)/20;t.style.transform=`perspective(1000px) rotateX(${o}deg) rotateY(${i}deg) translateY(-12px)`}),t.addEventListener("mouseleave",()=>{t.style.transform="perspective(1000px) rotateX(0) rotateY(0) translateY(0)"})}),console.log("ğŸ›ï¸ Krause Insurance - Landing Page cargada correctamente");