{"version":3,"file":"369.krause.app.js","mappings":"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","sources":["webpack://react-app/./src/modules/agentDashboardComponents.js"],"sourcesContent":["/**\r\n * Agent Dashboard Components\r\n * Componentes espec铆ficos para el portal del agente\r\n */\r\n\r\nimport { apiService, API_CONFIG } from '../api-integration.js';\r\n\r\n/**\r\n * Panel de Calendario de Pagos del Agente\r\n * Muestra todos los pagos de sus clientes con filtros\r\n */\r\nexport class AgentPaymentSchedulePanel {\r\n    constructor(containerId, options = {}) {\r\n        this.container = document.getElementById(containerId);\r\n        this.filteredClientId = options.clientId || null;\r\n        this.viewMode = options.viewMode || 'all'; // 'all', 'pending', 'overdue'\r\n    }\r\n\r\n    async render() {\r\n        if (!this.container) {\r\n            console.warn('Agent payment schedule container not found');\r\n            return;\r\n        }\r\n\r\n        try {\r\n            // Usar apiService para obtener pagos\r\n            const data = await apiService.request('?action=agent_payments', {\r\n                method: 'GET'\r\n            });\r\n\r\n            let payments = data.payments || data || [];\r\n\r\n            // Filtrar por cliente si est谩 especificado\r\n            if (this.filteredClientId) {\r\n                payments = payments.filter(p => p.client_id === this.filteredClientId);\r\n            }\r\n\r\n            // Filtrar por modo de vista\r\n            if (this.viewMode === 'pending') {\r\n                payments = payments.filter(p => p.status === 'pending');\r\n            } else if (this.viewMode === 'overdue') {\r\n                payments = payments.filter(p => p.status === 'overdue');\r\n            }\r\n\r\n            this.container.innerHTML = `\r\n                <div class=\"agent-payment-panel\">\r\n                    <div class=\"panel-header\">\r\n                        <h3>\r\n                            <svg width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\">\r\n                                <rect x=\"2\" y=\"5\" width=\"20\" height=\"14\" rx=\"2\" />\r\n                                <line x1=\"2\" y1=\"10\" x2=\"22\" y2=\"10\" />\r\n                            </svg>\r\n                            Calendario de Pagos ${this.filteredClientId ? '- Cliente Filtrado' : ''}\r\n                        </h3>\r\n                        <div class=\"panel-filters\">\r\n                            <button class=\"filter-btn ${this.viewMode === 'all' ? 'active' : ''}\" \r\n                                    onclick=\"window.agentDashboard?.setPaymentView('all')\">\r\n                                Todos (${payments.length})\r\n                            </button>\r\n                            <button class=\"filter-btn ${this.viewMode === 'pending' ? 'active' : ''}\" \r\n                                    onclick=\"window.agentDashboard?.setPaymentView('pending')\">\r\n                                Pendientes (${payments.filter(p => p.status === 'pending').length})\r\n                            </button>\r\n                            <button class=\"filter-btn ${this.viewMode === 'overdue' ? 'active' : ''}\" \r\n                                    onclick=\"window.agentDashboard?.setPaymentView('overdue')\">\r\n                                Vencidos (${payments.filter(p => p.status === 'overdue').length})\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"panel-body\">\r\n                        ${payments.length > 0 ? `\r\n                            <div class=\"payment-table modern-table\">\r\n                                <table>\r\n                                    <thead>\r\n                                        <tr>\r\n                                            <th>Cliente</th>\r\n                                            <th>P贸liza</th>\r\n                                            <th>Monto</th>\r\n                                            <th>Vence</th>\r\n                                            <th>Estado</th>\r\n                                            <th></th>\r\n                                        </tr>\r\n                                    </thead>\r\n                                    <tbody>\r\n                                        ${payments.map(p => this.renderPaymentRow(p)).join('')}\r\n                                    </tbody>\r\n                                </table>\r\n                            </div>\r\n                        ` : `\r\n                            <div class=\"empty-state\">\r\n                                <svg width=\"48\" height=\"48\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"1\">\r\n                                    <rect x=\"2\" y=\"5\" width=\"20\" height=\"14\" rx=\"2\" />\r\n                                    <line x1=\"2\" y1=\"10\" x2=\"22\" y2=\"10\" />\r\n                                </svg>\r\n                                <p>No hay pagos ${this.viewMode !== 'all' ? this.viewMode === 'pending' ? 'pendientes' : 'vencidos' : ''}</p>\r\n                            </div>\r\n                        `}\r\n                    </div>\r\n                </div>\r\n            `;\r\n\r\n        } catch (error) {\r\n            console.error('Error rendering agent payments:', error);\r\n            this.container.innerHTML = `\r\n                <div class=\"error-state\">\r\n                    <p>Error al cargar pagos: ${error.message}</p>\r\n                </div>\r\n            `;\r\n        }\r\n    }\r\n\r\n    renderPaymentRow(payment) {\r\n        const statusClass = this.getStatusClass(payment.status);\r\n        const daysUntilDue = Math.ceil((new Date(payment.due_date) - new Date()) / (1000 * 60 * 60 * 24));\r\n        const urgencyClass = daysUntilDue < 0 ? 'urgent' : daysUntilDue <= 3 ? 'warning' : '';\r\n\r\n        const shortName = payment.client_name?.split(' ').slice(0, 2).join(' ') || 'N/A';\r\n\r\n        return `\r\n            <tr class=\"${urgencyClass}\">\r\n                <td>\r\n                    <div class=\"client-info\">\r\n                        <strong>${shortName}</strong>\r\n                    </div>\r\n                </td>\r\n                <td><span class=\"policy-num\">${payment.policy_number}</span></td>\r\n                <td class=\"amount\">$${parseFloat(payment.amount).toFixed(2)}</td>\r\n                <td>\r\n                    <div class=\"due-date ${urgencyClass}\">\r\n                        ${this.formatShortDate(payment.due_date)}\r\n                        ${daysUntilDue < 0 ? `<small class=\"text-danger\">-${Math.abs(daysUntilDue)}d</small>` :\r\n                daysUntilDue <= 3 ? `<small class=\"text-warning\">${daysUntilDue}d</small>` : ''}\r\n                    </div>\r\n                </td>\r\n                <td><span class=\"status-badge ${statusClass}\">${this.getStatusText(payment.status)}</span></td>\r\n                <td>\r\n                    <div class=\"action-buttons\">                        <button class=\"btn-icon\" title=\"Ver detalles\" onclick=\"window.agentDashboard?.reviewProof('${payment.proof_id}')\">\r\n                            <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\">\r\n                                <path d=\"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z\"/>\r\n                                <circle cx=\"12\" cy=\"12\" r=\"3\"/>\r\n                            </svg>\r\n                        </button>\r\n                        <button class=\"btn-icon\" title=\"Ver detalles\" \r\n                                onclick=\"window.appHandlers?.viewClientDetails?.('${payment.client_id}')\">\r\n                            <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\">\r\n                                <path d=\"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z\"/>\r\n                                <circle cx=\"12\" cy=\"12\" r=\"3\"/>\r\n                            </svg>\r\n                        </button>\r\n                        ${payment.proof_id ? `\r\n                            <button class=\"btn-icon\" title=\"Revisar comprobante\"\r\n                                    onclick=\"window.agentDashboard?.reviewProof('${payment.proof_id}')\">\r\n                                <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\">\r\n                                    <path d=\"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z\"/>\r\n                                    <polyline points=\"14 2 14 8 20 8\"/>\r\n                                </svg>\r\n                            </button>\r\n                        ` : ''}\r\n                        <button class=\"btn-icon\" title=\"Contactar cliente\"\r\n                                onclick=\"window.agentDashboard?.contactClient('${payment.client_id}')\">\r\n                            <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\">\r\n                                <path d=\"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z\"/>\r\n                            </svg>\r\n                        </button>\r\n                    </div>\r\n                </td>\r\n            </tr>\r\n        `;\r\n    }\r\n\r\n    getStatusClass(status) {\r\n        const classes = {\r\n            'paid': 'success',\r\n            'pending': 'warning',\r\n            'overdue': 'danger',\r\n            'cancelled': 'neutral'\r\n        };\r\n        return classes[status] || 'neutral';\r\n    }\r\n\r\n    getStatusText(status) {\r\n        const texts = {\r\n            'paid': 'Pagado',\r\n            'pending': 'Pendiente',\r\n            'overdue': 'Vencido',\r\n            'cancelled': 'Cancelado'\r\n        };\r\n        return texts[status] || status;\r\n    }\r\n\r\n    formatDate(dateString) {\r\n        const date = new Date(dateString);\r\n        return date.toLocaleDateString('es-ES', { day: 'numeric', month: 'short', year: 'numeric' });\r\n    }\r\n\r\n    formatShortDate(dateString) {\r\n        const date = new Date(dateString);\r\n        return date.toLocaleDateString('es-ES', { day: 'numeric', month: 'short' });\r\n    }\r\n}\r\n\r\n/**\r\n * Panel de P贸lizas del Agente\r\n * Lista todas las p贸lizas de sus clientes\r\n */\r\nexport class AgentPoliciesPanel {\r\n    constructor(containerId, options = {}) {\r\n        this.container = document.getElementById(containerId);\r\n        this.filteredClientId = options.clientId || null;\r\n        this.viewMode = options.viewMode || 'all'; // 'all', 'active', 'expiring'\r\n    }\r\n\r\n    async render() {\r\n        if (!this.container) {\r\n            console.warn('Agent policies container not found');\r\n            return;\r\n        }\r\n\r\n        try {\r\n            // Usar apiService para obtener datos del dashboard del agente\r\n            const { apiService } = await import('../api-integration.js');\r\n            const dashboardData = await apiService.request('?action=agent_dashboard', {\r\n                method: 'GET'\r\n            });\r\n\r\n            let policies = dashboardData.clients?.flatMap(c => c.policies || []) || [];\r\n\r\n            // Filtrar por cliente si est谩 especificado\r\n            if (this.filteredClientId) {\r\n                policies = policies.filter(p => p.client_id === this.filteredClientId);\r\n            }\r\n\r\n            // Filtrar por modo de vista\r\n            if (this.viewMode === 'active') {\r\n                policies = policies.filter(p => p.status === 'active');\r\n            } else if (this.viewMode === 'expiring') {\r\n                const now = new Date();\r\n                const thirtyDaysFromNow = new Date(now.getTime() + (30 * 24 * 60 * 60 * 1000));\r\n                policies = policies.filter(p => {\r\n                    const renewalDate = new Date(p.renewal_date);\r\n                    return renewalDate <= thirtyDaysFromNow && renewalDate > now;\r\n                });\r\n            }\r\n\r\n            this.container.innerHTML = `\r\n                <div class=\"agent-policies-panel\">\r\n                    <div class=\"panel-header\">\r\n                        <h3>\r\n                            <svg width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\">\r\n                                <path d=\"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z\"/>\r\n                                <polyline points=\"14 2 14 8 20 8\"/>\r\n                            </svg>\r\n                            P贸lizas ${this.filteredClientId ? '- Cliente Filtrado' : ''}\r\n                        </h3>\r\n                        <div class=\"panel-filters\">\r\n                            <button class=\"filter-btn ${this.viewMode === 'all' ? 'active' : ''}\" \r\n                                    onclick=\"window.agentDashboard?.setPoliciesView('all')\">\r\n                                Todas (${policies.length})\r\n                            </button>\r\n                            <button class=\"filter-btn ${this.viewMode === 'active' ? 'active' : ''}\" \r\n                                    onclick=\"window.agentDashboard?.setPoliciesView('active')\">\r\n                                Activas (${policies.filter(p => p.status === 'active').length})\r\n                            </button>\r\n                            <button class=\"filter-btn ${this.viewMode === 'expiring' ? 'active' : ''}\" \r\n                                    onclick=\"window.agentDashboard?.setPoliciesView('expiring')\">\r\n                                Por vencer (${this.getExpiringCount(policies)})\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"panel-body\">\r\n                        ${policies.length > 0 ? `\r\n                            <div class=\"policies-grid\">\r\n                                ${policies.map(p => this.renderPolicyCard(p)).join('')}\r\n                            </div>\r\n                        ` : `\r\n                            <div class=\"empty-state\">\r\n                                <svg width=\"48\" height=\"48\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"1\">\r\n                                    <path d=\"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z\"/>\r\n                                    <polyline points=\"14 2 14 8 20 8\"/>\r\n                                </svg>\r\n                                <p>No hay p贸lizas</p>\r\n                            </div>\r\n                        `}\r\n                    </div>\r\n                </div>\r\n            `;\r\n\r\n        } catch (error) {\r\n            console.error('Error rendering agent policies:', error);\r\n            this.container.innerHTML = `\r\n                <div class=\"error-state\">\r\n                    <p>Error al cargar p贸lizas: ${error.message}</p>\r\n                </div>\r\n            `;\r\n        }\r\n    }\r\n\r\n    renderPolicyCard(policy) {\r\n        const statusClass = policy.status === 'active' ? 'success' : policy.status === 'expired' ? 'danger' : 'neutral';\r\n        const daysUntilRenewal = Math.ceil((new Date(policy.renewal_date) - new Date()) / (1000 * 60 * 60 * 24));\r\n\r\n        return `\r\n            <div class=\"policy-card ${statusClass}\">\r\n                <div class=\"policy-header\">\r\n                    <span class=\"policy-type\">${this.getPolicyTypeLabel(policy.policy_type)}</span>\r\n                    <span class=\"policy-status ${statusClass}\">${policy.status}</span>\r\n                </div>\r\n                <div class=\"policy-body\">\r\n                    <h4>${policy.policy_number}</h4>\r\n                    <p class=\"client-name\">${policy.client_name || 'Cliente N/A'}</p>\r\n                    <div class=\"policy-details\">\r\n                        <div class=\"detail-item\">\r\n                            <span class=\"label\">Prima:</span>\r\n                            <span class=\"value\">$${parseFloat(policy.premium_amount).toFixed(2)}/mes</span>\r\n                        </div>\r\n                        <div class=\"detail-item\">\r\n                            <span class=\"label\">Cobertura:</span>\r\n                            <span class=\"value\">$${parseFloat(policy.coverage_amount).toLocaleString()}</span>\r\n                        </div>\r\n                        <div class=\"detail-item\">\r\n                            <span class=\"label\">Renovaci贸n:</span>\r\n                            <span class=\"value ${daysUntilRenewal <= 30 ? 'warning' : ''}\">\r\n                                ${this.formatDate(policy.renewal_date)}\r\n                                ${daysUntilRenewal <= 30 && daysUntilRenewal > 0 ? ` (${daysUntilRenewal} d铆as)` : ''}\r\n                            </span>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class=\"policy-footer\">\r\n                    <button class=\"btn btn-sm btn-outline\" \r\n                            onclick=\"window.appHandlers?.viewPolicy?.('${policy.id}')\">\r\n                        Ver detalles\r\n                    </button>\r\n                    <button class=\"btn btn-sm btn-primary\" \r\n                            onclick=\"window.appHandlers?.viewClientDetails?.('${policy.client_id}')\">\r\n                        Ver cliente\r\n                    </button>\r\n                </div>\r\n            </div>\r\n        `;\r\n    }\r\n\r\n    getPolicyTypeLabel(type) {\r\n        const labels = {\r\n            'auto': ' Auto',\r\n            'home': ' Hogar',\r\n            'life': 'わ Vida',\r\n            'health': ' Salud',\r\n            'business': ' Negocio'\r\n        };\r\n        return labels[type] || type;\r\n    }\r\n\r\n    getExpiringCount(policies) {\r\n        const now = new Date();\r\n        const thirtyDaysFromNow = new Date(now.getTime() + (30 * 24 * 60 * 60 * 1000));\r\n        return policies.filter(p => {\r\n            const renewalDate = new Date(p.renewal_date);\r\n            return renewalDate <= thirtyDaysFromNow && renewalDate > now;\r\n        }).length;\r\n    }\r\n\r\n    formatDate(dateString) {\r\n        const date = new Date(dateString);\r\n        return date.toLocaleDateString('es-ES', { day: 'numeric', month: 'short', year: 'numeric' });\r\n    }\r\n}\r\n\r\n/**\r\n * Dashboard Manager para Agente\r\n * Coordina todos los paneles y filtros\r\n */\r\nexport class AgentDashboardManager {\r\n    constructor() {\r\n        this.filteredClientId = null;\r\n        this.paymentPanel = null;\r\n        this.policiesPanel = null;\r\n        this.paymentViewMode = 'all';\r\n        this.policiesViewMode = 'all';\r\n    }\r\n\r\n    async initialize() {\r\n        // Inicializar paneles\r\n        this.paymentPanel = new AgentPaymentSchedulePanel('agent-payments-container', {\r\n            clientId: this.filteredClientId,\r\n            viewMode: this.paymentViewMode\r\n        });\r\n\r\n        this.policiesPanel = new AgentPoliciesPanel('agent-policies-container', {\r\n            clientId: this.filteredClientId,\r\n            viewMode: this.policiesViewMode\r\n        });\r\n\r\n        await this.render();\r\n    }\r\n\r\n    async render() {\r\n        if (this.paymentPanel) {\r\n            await this.paymentPanel.render();\r\n        }\r\n        if (this.policiesPanel) {\r\n            await this.policiesPanel.render();\r\n        }\r\n    }\r\n\r\n    setClientFilter(clientId) {\r\n        this.filteredClientId = clientId;\r\n\r\n        // Actualizar paneles con nuevo filtro\r\n        if (this.paymentPanel) {\r\n            this.paymentPanel.filteredClientId = clientId;\r\n        }\r\n        if (this.policiesPanel) {\r\n            this.policiesPanel.filteredClientId = clientId;\r\n        }\r\n\r\n        this.render();\r\n\r\n        // Actualizar UI del filtro\r\n        this.updateFilterUI(clientId);\r\n    }\r\n\r\n    clearClientFilter() {\r\n        this.setClientFilter(null);\r\n    }\r\n\r\n    setPaymentView(viewMode) {\r\n        this.paymentViewMode = viewMode;\r\n        if (this.paymentPanel) {\r\n            this.paymentPanel.viewMode = viewMode;\r\n            this.paymentPanel.render();\r\n        }\r\n    }\r\n\r\n    setPoliciesView(viewMode) {\r\n        this.policiesViewMode = viewMode;\r\n        if (this.policiesPanel) {\r\n            this.policiesPanel.viewMode = viewMode;\r\n            this.policiesPanel.render();\r\n        }\r\n    }\r\n\r\n    updateFilterUI(clientId) {\r\n        const filterIndicator = document.getElementById('client-filter-indicator');\r\n        if (filterIndicator) {\r\n            if (clientId) {\r\n                filterIndicator.textContent = `Filtrando por cliente: ${clientId}`;\r\n                filterIndicator.style.display = 'block';\r\n            } else {\r\n                filterIndicator.style.display = 'none';\r\n            }\r\n        }\r\n    }\r\n\r\n    reviewProof(proofId) {\r\n        // Implementar l贸gica de revisi贸n de comprobante\r\n        console.log('Reviewing proof:', proofId);\r\n        // Abrir modal de revisi贸n\r\n        if (window.appHandlers?.reviewPaymentProof) {\r\n            window.appHandlers.reviewPaymentProof(proofId);\r\n        }\r\n    }\r\n\r\n    contactClient(clientId) {\r\n        // Implementar l贸gica de contacto\r\n        console.log('Contacting client:', clientId);\r\n        // Abrir modal de contacto o email\r\n        if (window.appHandlers?.contactClient) {\r\n            window.appHandlers.contactClient(clientId);\r\n        }\r\n    }\r\n}\r\n\r\n// Inicializar cuando el DOM est茅 listo\r\nif (typeof window !== 'undefined') {\r\n    window.addEventListener('DOMContentLoaded', () => {\r\n        // Solo inicializar si estamos en el dashboard de agente\r\n        if (document.getElementById('agent-payments-container') ||\r\n            document.getElementById('agent-policies-container')) {\r\n            window.agentDashboard = new AgentDashboardManager();\r\n            window.agentDashboard.initialize();\r\n        }\r\n    });\r\n}\r\n"],"names":["e","t","r","Symbol","n","iterator","o","toStringTag","i","c","prototype","Generator","u","Object","create","_regeneratorDefine2","f","p","y","G","v","a","d","bind","length","l","TypeError","call","done","value","GeneratorFunction","GeneratorFunctionPrototype","getPrototypeOf","setPrototypeOf","__proto__","displayName","_regenerator","w","m","defineProperty","_invoke","enumerable","configurable","writable","asyncGeneratorStep","Promise","resolve","then","_asyncToGenerator","arguments","apply","_next","_throw","_classCallCheck","_defineProperties","_toPropertyKey","key","_createClass","_typeof","toPrimitive","String","_toPrimitive","AgentPaymentSchedulePanel","containerId","options","undefined","this","container","document","getElementById","filteredClientId","clientId","viewMode","_render","_callee","data","payments","_t","_this","_context","console","warn","apiService","request","method","filter","client_id","status","innerHTML","concat","map","renderPaymentRow","join","error","message","payment","_payment$client_name","statusClass","getStatusClass","daysUntilDue","Math","ceil","Date","due_date","urgencyClass","shortName","client_name","split","slice","policy_number","parseFloat","amount","toFixed","formatShortDate","abs","getStatusText","proof_id","dateString","toLocaleDateString","day","month","year","AgentPoliciesPanel","_render2","_callee2","_dashboardData$client","_yield$import","_apiService","dashboardData","policies","now","thirtyDaysFromNow","_t2","_this2","_context2","clients","flatMap","getTime","renewalDate","renewal_date","getExpiringCount","renderPolicyCard","policy","daysUntilRenewal","getPolicyTypeLabel","policy_type","premium_amount","coverage_amount","toLocaleString","formatDate","id","type","AgentDashboardManager","paymentPanel","policiesPanel","paymentViewMode","policiesViewMode","_initialize","_callee3","_context3","render","_render3","_callee4","_context4","updateFilterUI","setClientFilter","filterIndicator","textContent","style","display","proofId","_window$appHandlers","log","window","appHandlers","reviewPaymentProof","_window$appHandlers2","contactClient","addEventListener","agentDashboard","initialize"],"sourceRoot":""}