{"version":3,"file":"krause.app.js","mappings":"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","sources":["webpack://react-app/./src/core/state.js","webpack://react-app/./src/modules/aboutEnhancements.js","webpack://react-app/./src/modules/auth.js","webpack://react-app/./src/modules/homeAnimations.js","webpack://react-app/./src/modules/notifications.js","webpack://react-app/./src/modules/particles.js","webpack://react-app/./src/modules/servicesTechNav.js","webpack://react-app/./src/modules/simpleRouter.js","webpack://react-app/./src/utils/constants.js","webpack://react-app/./src/utils/dom.js","webpack://react-app/./src/utils/timing.js","webpack://react-app/webpack/bootstrap","webpack://react-app/webpack/runtime/define property getters","webpack://react-app/webpack/runtime/hasOwnProperty shorthand","webpack://react-app/webpack/runtime/make namespace object","webpack://react-app/./src/core/EntryPointMainApp.js"],"sourcesContent":["// Application State Management\r\nexport const state = {\r\n  currentUser: null,\r\n  currentPage: 'home'\r\n};\r\n\r\nexport function setUser(user) {\r\n  state.currentUser = user;\r\n  if (user) {\r\n    localStorage.setItem('krauser_user', JSON.stringify(user));\r\n  } else {\r\n    localStorage.removeItem('krauser_user');\r\n  }\r\n}\r\n\r\nexport function getUser() {\r\n  if (!state.currentUser) {\r\n    const stored = localStorage.getItem('krauser_user');\r\n    if (stored) {\r\n      state.currentUser = JSON.parse(stored);\r\n    }\r\n  }\r\n  return state.currentUser;\r\n}\r\n\r\nexport function setPage(page) {\r\n  state.currentPage = page;\r\n}\r\n\r\nexport function getPage() {\r\n  return state.currentPage;\r\n}\r\n\r\nexport function clearState() {\r\n  state.currentUser = null;\r\n  state.currentPage = 'home';\r\n  localStorage.removeItem('krauser_user');\r\n}\r\n","// About page enhancements\r\n// - Animated counters (Option B stats strip)\r\n// - Testimonials slider (auto-advance + dot navigation)\r\n\r\nfunction prefersReducedMotion() {\r\n    try {\r\n        return !!window.matchMedia?.('(prefers-reduced-motion: reduce)')?.matches;\r\n    } catch {\r\n        return false;\r\n    }\r\n}\r\n\r\nfunction clamp(n, min, max) {\r\n    return Math.max(min, Math.min(max, n));\r\n}\r\n\r\nfunction easeOutCubic(t) {\r\n    return 1 - Math.pow(1 - t, 3);\r\n}\r\n\r\nfunction formatCompactInt(n) {\r\n    // Keep it simple and language-agnostic; user can localize later if needed.\r\n    return String(Math.round(n));\r\n}\r\n\r\nfunction animateNumber(el, target, { durationMs = 900, suffix = '' } = {}) {\r\n    if (!el) return;\r\n    const start = 0;\r\n    const startTs = performance.now();\r\n\r\n    const tick = (now) => {\r\n        const t = clamp((now - startTs) / durationMs, 0, 1);\r\n        const eased = easeOutCubic(t);\r\n        const value = start + (target - start) * eased;\r\n        el.textContent = `${formatCompactInt(value)}${suffix}`;\r\n\r\n        if (t < 1) {\r\n            window.requestAnimationFrame(tick);\r\n        } else {\r\n            el.textContent = `${formatCompactInt(target)}${suffix}`;\r\n        }\r\n    };\r\n\r\n    window.requestAnimationFrame(tick);\r\n}\r\n\r\nexport function initAboutEnhancements(root = document) {\r\n    const container = root.querySelector?.('.about-fullpage') || root;\r\n    if (!container) return;\r\n\r\n    // Cleanup any previous instance\r\n    if (typeof window.__aboutEnhancementsCleanup === 'function') {\r\n        try {\r\n            window.__aboutEnhancementsCleanup();\r\n        } catch {\r\n            // no-op\r\n        }\r\n    }\r\n\r\n    const cleanups = [];\r\n\r\n    // ===== Counters =====\r\n    const countEls = Array.from(container.querySelectorAll('.about-stat-number[data-target]'));\r\n    const reduced = prefersReducedMotion();\r\n\r\n    for (const el of countEls) {\r\n        // Reset for a consistent first render\r\n        const suffix = el.getAttribute('data-suffix') || '';\r\n        el.textContent = `0${suffix}`;\r\n    }\r\n\r\n    let countersObserver = null;\r\n    const counted = new WeakSet();\r\n\r\n    if (!reduced && 'IntersectionObserver' in window && countEls.length) {\r\n        countersObserver = new IntersectionObserver(\r\n            (entries) => {\r\n                for (const entry of entries) {\r\n                    if (!entry.isIntersecting) continue;\r\n                    const el = entry.target;\r\n                    if (counted.has(el)) continue;\r\n\r\n                    const rawTarget = Number(el.getAttribute('data-target'));\r\n                    if (!Number.isFinite(rawTarget)) continue;\r\n\r\n                    counted.add(el);\r\n                    const suffix = el.getAttribute('data-suffix') || '';\r\n                    animateNumber(el, rawTarget, { durationMs: 950, suffix });\r\n                }\r\n            },\r\n            { threshold: 0.35 }\r\n        );\r\n\r\n        for (const el of countEls) countersObserver.observe(el);\r\n    } else {\r\n        // No observer / reduced motion: just set final values.\r\n        for (const el of countEls) {\r\n            const rawTarget = Number(el.getAttribute('data-target'));\r\n            if (!Number.isFinite(rawTarget)) continue;\r\n            const suffix = el.getAttribute('data-suffix') || '';\r\n            el.textContent = `${formatCompactInt(rawTarget)}${suffix}`;\r\n        }\r\n    }\r\n\r\n    // ===== Core cards rail (Historia/Misin/Equipo) keyboard navigation =====\r\n    const coreRail = container.querySelector('.about-content-grid');\r\n    let coreActiveIndex = 0;\r\n\r\n    function isEditableTarget(t) {\r\n        if (!t) return false;\r\n        const el = t.nodeType === 1 ? t : null;\r\n        if (!el) return false;\r\n        if (el.isContentEditable) return true;\r\n        const tag = (el.tagName || '').toLowerCase();\r\n        return tag === 'input' || tag === 'textarea' || tag === 'select';\r\n    }\r\n\r\n    function getCorePanels() {\r\n        return Array.from(coreRail?.children || []).filter((n) => n?.nodeType === 1);\r\n    }\r\n\r\n    function getLeftWithinScroller(scroller, node) {\r\n        if (!scroller || !node) return 0;\r\n        const scrollerRect = scroller.getBoundingClientRect();\r\n        const nodeRect = node.getBoundingClientRect();\r\n        return (nodeRect.left - scrollerRect.left) + scroller.scrollLeft;\r\n    }\r\n\r\n    function computeCoreActiveFromScroll() {\r\n        const panels = getCorePanels();\r\n        if (!coreRail || !panels.length) return;\r\n\r\n        const x = coreRail.scrollLeft;\r\n        let bestIndex = 0;\r\n        let bestDist = Infinity;\r\n        for (let i = 0; i < panels.length; i++) {\r\n            const left = getLeftWithinScroller(coreRail, panels[i]);\r\n            const d = Math.abs(left - x);\r\n            if (d < bestDist) {\r\n                bestDist = d;\r\n                bestIndex = i;\r\n            }\r\n        }\r\n        coreActiveIndex = bestIndex;\r\n    }\r\n\r\n    function scrollCoreTo(index, { behavior = 'smooth' } = {}) {\r\n        const panels = getCorePanels();\r\n        if (!coreRail || !panels.length) return;\r\n        const safeIndex = clamp(index, 0, panels.length - 1);\r\n        const left = getLeftWithinScroller(coreRail, panels[safeIndex]);\r\n        coreRail.scrollTo({ left: Math.max(0, left - 2), behavior });\r\n        coreActiveIndex = safeIndex;\r\n    }\r\n\r\n    if (coreRail) {\r\n        const onCoreScroll = () => computeCoreActiveFromScroll();\r\n        coreRail.addEventListener('scroll', onCoreScroll, { passive: true });\r\n        cleanups.push(() => coreRail.removeEventListener('scroll', onCoreScroll));\r\n\r\n        const onCoreKeyDown = (e) => {\r\n            if (e.key !== 'ArrowLeft' && e.key !== 'ArrowRight') return;\r\n            if (isEditableTarget(e.target)) return;\r\n\r\n            // If focus is inside the dynamic rail or the testimonials slider, do not steal their arrows.\r\n            const target = e.target;\r\n            if (target && typeof target.closest === 'function') {\r\n                if (target.closest('.about-dynamic')) return;\r\n            }\r\n\r\n            const panels = getCorePanels();\r\n            if (!panels.length) return;\r\n\r\n            e.preventDefault();\r\n            const delta = e.key === 'ArrowRight' ? 1 : -1;\r\n            const next = clamp(coreActiveIndex + delta, 0, panels.length - 1);\r\n            scrollCoreTo(next, { behavior: reduced ? 'auto' : 'smooth' });\r\n        };\r\n\r\n        // Capture so it works even if focus is on a child element.\r\n        coreRail.addEventListener('keydown', onCoreKeyDown, true);\r\n        cleanups.push(() => coreRail.removeEventListener('keydown', onCoreKeyDown, true));\r\n\r\n        // Initial sync\r\n        computeCoreActiveFromScroll();\r\n    }\r\n\r\n    // ===== Testimonials slider =====\r\n    const slider = container.querySelector('.about-testimonials-slider');\r\n    const track = container.querySelector('.about-testimonials-track');\r\n    const dotEls = Array.from(container.querySelectorAll('.about-dot'));\r\n\r\n    // ===== Rail (stats/partners/testimonials) keyboard navigation =====\r\n    const rail = container.querySelector('.about-dynamic');\r\n    let railActiveIndex = 0;\r\n\r\n    function getRailPanels() {\r\n        if (!rail) return [];\r\n        // Direct children are panels by design: stats strip, partners, testimonials\r\n        return Array.from(rail.children || []).filter((n) => n?.nodeType === 1);\r\n    }\r\n\r\n    function getRailPanelLeft(panel) {\r\n        if (!rail || !panel) return 0;\r\n        // More robust than offsetLeft when layout/positioning changes.\r\n        const railRect = rail.getBoundingClientRect();\r\n        const panelRect = panel.getBoundingClientRect();\r\n        return (panelRect.left - railRect.left) + rail.scrollLeft;\r\n    }\r\n\r\n    function computeRailActiveFromScroll() {\r\n        const panels = getRailPanels();\r\n        if (!rail || !panels.length) return;\r\n\r\n        const x = rail.scrollLeft;\r\n        let bestIndex = 0;\r\n        let bestDist = Infinity;\r\n        for (let i = 0; i < panels.length; i++) {\r\n            const left = getRailPanelLeft(panels[i]);\r\n            const d = Math.abs(left - x);\r\n            if (d < bestDist) {\r\n                bestDist = d;\r\n                bestIndex = i;\r\n            }\r\n        }\r\n\r\n        railActiveIndex = bestIndex;\r\n    }\r\n\r\n    function scrollRailTo(index, { behavior = 'smooth' } = {}) {\r\n        const panels = getRailPanels();\r\n        if (!rail || !panels.length) return;\r\n        const safeIndex = clamp(index, 0, panels.length - 1);\r\n        const left = getRailPanelLeft(panels[safeIndex]);\r\n        rail.scrollTo({ left: Math.max(0, left - 2), behavior });\r\n        railActiveIndex = safeIndex;\r\n    }\r\n\r\n    let autoTimer = null;\r\n    let activeIndex = 0;\r\n\r\n    function getSlides() {\r\n        return Array.from(track?.children || []).filter((n) => n?.nodeType === 1);\r\n    }\r\n\r\n    function setActiveSlideClass(index) {\r\n        const slides = getSlides();\r\n        for (let i = 0; i < slides.length; i++) {\r\n            if (i === index) slides[i].classList.add('is-active');\r\n            else slides[i].classList.remove('is-active');\r\n        }\r\n    }\r\n\r\n    function setActiveDot(index) {\r\n        activeIndex = index;\r\n        for (const dot of dotEls) {\r\n            const i = Number(dot.getAttribute('data-index'));\r\n            if (i === index) dot.classList.add('is-active');\r\n            else dot.classList.remove('is-active');\r\n        }\r\n\r\n        setActiveSlideClass(index);\r\n    }\r\n\r\n    function scrollToSlide(index, { behavior = 'smooth' } = {}) {\r\n        const slides = getSlides();\r\n        if (!slider || !slides.length) return;\r\n\r\n        const safeIndex = clamp(index, 0, slides.length - 1);\r\n        const slide = slides[safeIndex];\r\n\r\n        // Use offsetLeft relative to the scrolling container.\r\n        slider.scrollTo({ left: slide.offsetLeft - 2, behavior });\r\n        setActiveDot(safeIndex);\r\n    }\r\n\r\n    function computeActiveFromScroll() {\r\n        const slides = getSlides();\r\n        if (!slider || !slides.length) return;\r\n\r\n        const x = slider.scrollLeft;\r\n        let bestIndex = 0;\r\n        let bestDist = Infinity;\r\n\r\n        for (let i = 0; i < slides.length; i++) {\r\n            const d = Math.abs(slides[i].offsetLeft - x);\r\n            if (d < bestDist) {\r\n                bestDist = d;\r\n                bestIndex = i;\r\n            }\r\n        }\r\n\r\n        setActiveDot(bestIndex);\r\n    }\r\n\r\n    function startAutoAdvance() {\r\n        if (reduced) return;\r\n        if (!slider || !track) return;\r\n\r\n        stopAutoAdvance();\r\n        autoTimer = window.setInterval(() => {\r\n            const slides = getSlides();\r\n            if (!slides.length) return;\r\n            const next = (activeIndex + 1) % slides.length;\r\n            scrollToSlide(next, { behavior: 'smooth' });\r\n        }, 6500);\r\n    }\r\n\r\n    function stopAutoAdvance() {\r\n        if (autoTimer) {\r\n            window.clearInterval(autoTimer);\r\n            autoTimer = null;\r\n        }\r\n    }\r\n\r\n    if (slider && track && dotEls.length) {\r\n        // Dot navigation\r\n        for (const dot of dotEls) {\r\n            const handler = () => {\r\n                const idx = Number(dot.getAttribute('data-index'));\r\n                if (!Number.isFinite(idx)) return;\r\n                scrollToSlide(idx, { behavior: 'smooth' });\r\n            };\r\n            dot.addEventListener('click', handler);\r\n            cleanups.push(() => dot.removeEventListener('click', handler));\r\n        }\r\n\r\n        // Keep dots in sync while user scrolls manually\r\n        const onScroll = () => computeActiveFromScroll();\r\n        slider.addEventListener('scroll', onScroll, { passive: true });\r\n        cleanups.push(() => slider.removeEventListener('scroll', onScroll));\r\n\r\n        // Keyboard navigation (tech/power-user friendly)\r\n        const onKeyDown = (e) => {\r\n            if (e.key !== 'ArrowLeft' && e.key !== 'ArrowRight') return;\r\n            const slides = getSlides();\r\n            if (!slides.length) return;\r\n\r\n            e.preventDefault();\r\n\r\n            const delta = e.key === 'ArrowRight' ? 1 : -1;\r\n            const next = clamp(activeIndex + delta, 0, slides.length - 1);\r\n            scrollToSlide(next, { behavior: 'smooth' });\r\n        };\r\n        slider.addEventListener('keydown', onKeyDown);\r\n        cleanups.push(() => slider.removeEventListener('keydown', onKeyDown));\r\n\r\n        // Pause on interaction\r\n        const onEnter = () => stopAutoAdvance();\r\n        const onLeave = () => startAutoAdvance();\r\n        slider.addEventListener('pointerenter', onEnter);\r\n        slider.addEventListener('pointerleave', onLeave);\r\n        slider.addEventListener('focusin', onEnter);\r\n        slider.addEventListener('focusout', onLeave);\r\n\r\n        cleanups.push(() => slider.removeEventListener('pointerenter', onEnter));\r\n        cleanups.push(() => slider.removeEventListener('pointerleave', onLeave));\r\n        cleanups.push(() => slider.removeEventListener('focusin', onEnter));\r\n        cleanups.push(() => slider.removeEventListener('focusout', onLeave));\r\n\r\n        // Initial\r\n        setActiveDot(0);\r\n        startAutoAdvance();\r\n\r\n        // In case layout changes, keep the active slide aligned.\r\n        let resizeObserver = null;\r\n        if ('ResizeObserver' in window) {\r\n            resizeObserver = new ResizeObserver(() => {\r\n                // Snap back to the active slide (no animation on resize)\r\n                scrollToSlide(activeIndex, { behavior: 'auto' });\r\n            });\r\n            resizeObserver.observe(slider);\r\n            cleanups.push(() => {\r\n                try {\r\n                    resizeObserver.disconnect();\r\n                } catch {\r\n                    // no-op\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n    // Rail arrow navigation (power-user friendly).\r\n    // Note: the testimonials slider already uses ArrowLeft/ArrowRight; avoid double-handling.\r\n    if (rail) {\r\n        // Keep railActiveIndex in sync when the user scrolls the rail manually.\r\n        const onRailScroll = () => computeRailActiveFromScroll();\r\n        rail.addEventListener('scroll', onRailScroll, { passive: true });\r\n        cleanups.push(() => rail.removeEventListener('scroll', onRailScroll));\r\n\r\n        const onRailKeyDown = (e) => {\r\n            if (e.key !== 'ArrowLeft' && e.key !== 'ArrowRight') return;\r\n\r\n            // If user is interacting with the inner testimonials slider, let it handle arrows.\r\n            const target = e.target;\r\n            if (target && typeof target.closest === 'function') {\r\n                if (target.closest('.about-testimonials-slider')) return;\r\n            }\r\n\r\n            const panels = getRailPanels();\r\n            if (!panels.length) return;\r\n\r\n            e.preventDefault();\r\n\r\n            const delta = e.key === 'ArrowRight' ? 1 : -1;\r\n            const next = clamp(railActiveIndex + delta, 0, panels.length - 1);\r\n            scrollRailTo(next, { behavior: reduced ? 'auto' : 'smooth' });\r\n        };\r\n\r\n        // Use capture so it works even if focus is on a child element inside the rail.\r\n        rail.addEventListener('keydown', onRailKeyDown, true);\r\n        cleanups.push(() => rail.removeEventListener('keydown', onRailKeyDown, true));\r\n\r\n        // Initial sync\r\n        computeRailActiveFromScroll();\r\n    }\r\n\r\n    window.__aboutEnhancementsCleanup = () => {\r\n        stopAutoAdvance();\r\n\r\n        for (const fn of cleanups) {\r\n            try {\r\n                fn();\r\n            } catch {\r\n                // no-op\r\n            }\r\n        }\r\n\r\n        if (countersObserver) {\r\n            try {\r\n                countersObserver.disconnect();\r\n            } catch {\r\n                // no-op\r\n            }\r\n            countersObserver = null;\r\n        }\r\n\r\n        delete window.__aboutEnhancementsCleanup;\r\n    };\r\n}\r\n","// Authentication Module\r\nimport { getUser, setUser, clearState } from '../core/state.js';\r\nimport { DEMO_CREDENTIALS, PAGES, NOTIFICATION_TYPES } from '../utils/constants.js';\r\nimport { showNotification } from './notifications.js';\r\n\r\nexport function checkAuth() {\r\n  return getUser() !== null;\r\n}\r\n\r\nexport function login(credentials, type = 'client') {\r\n  const user = type === 'client'\r\n    ? validateClientLogin(credentials)\r\n    : validateAgentLogin(credentials);\r\n\r\n  if (user) {\r\n    setUser(user);\r\n    showNotification('Inicio de sesin exitoso', NOTIFICATION_TYPES.SUCCESS);\r\n    return user;\r\n  }\r\n\r\n  showNotification('Credenciales incorrectas', NOTIFICATION_TYPES.ERROR);\r\n  return null;\r\n}\r\n\r\nexport function logout() {\r\n  clearState();\r\n  showNotification('Sesin cerrada exitosamente', NOTIFICATION_TYPES.SUCCESS);\r\n}\r\n\r\nfunction validateClientLogin({ email, password }) {\r\n  if (email === DEMO_CREDENTIALS.CLIENT.email &&\r\n    password === DEMO_CREDENTIALS.CLIENT.password) {\r\n    return {\r\n      name: 'Juan Cliente',\r\n      type: 'client',\r\n      email\r\n    };\r\n  }\r\n  return null;\r\n}\r\n\r\nfunction validateAgentLogin({ agentId, password }) {\r\n  if (agentId === DEMO_CREDENTIALS.AGENT.id &&\r\n    password === DEMO_CREDENTIALS.AGENT.password) {\r\n    return {\r\n      name: 'Guillermo Krause',\r\n      type: 'agent',\r\n      id: agentId\r\n    };\r\n  }\r\n  return null;\r\n}\r\n\r\nexport function getRedirectPage(user) {\r\n  if (!user) return PAGES.HOME;\r\n\r\n  if (user.type === 'client') return PAGES.CLIENT_DASHBOARD;\r\n  if (user.type === 'agent') return PAGES.AGENT_DASHBOARD;\r\n\r\n  return PAGES.HOME;\r\n}\r\n","// Home Page Animations\r\nimport { TIMING, GRADIENT_CLASSES, SELECTORS } from '../utils/constants.js';\r\nimport { getElement, getElements, addClass, removeClass, replaceClass, setStyle } from '../utils/dom.js';\r\nimport { createTimer, clearAllTimers } from '../utils/timing.js';\r\n\r\n// Toggle to enable verbose animation diagnostics in the console\r\nconst DEBUG = false;\r\nconst debugLog = (...args) => {\r\n  if (DEBUG) console.log(...args);\r\n};\r\n\r\n// DOM Cache\r\nconst domCache = {\r\n  hero: null,\r\n  parade: null,\r\n  cta: null,\r\n  subNav: null,\r\n  skipBtn: null\r\n};\r\n\r\nfunction initDOMCache() {\r\n  if (domCache.hero) return; // Already initialized\r\n\r\n  domCache.hero = getElement(SELECTORS.HERO_SECTION, false);\r\n  domCache.parade = getElement(SELECTORS.PARADE_SECTION, false);\r\n  domCache.cta = getElement(SELECTORS.CTA_SECTION, false);\r\n  domCache.subNav = getElement(SELECTORS.SUB_NAV, false);\r\n  domCache.skipBtn = getElement(SELECTORS.SKIP_BUTTON, false);\r\n  // Progress bar element (under sub-navigation)\r\n  domCache.progress = getElement('#animation-progress .progress-fill', false);\r\n\r\n  debugLog(' DOM Cache initialized:', {\r\n    hero: !!domCache.hero,\r\n    parade: !!domCache.parade,\r\n    cta: !!domCache.cta,\r\n    subNav: !!domCache.subNav,\r\n    skipBtn: !!domCache.skipBtn,\r\n    progress: !!domCache.progress\r\n  });\r\n}\r\n\r\nfunction showButtonWithDroplet(selector, delay = 0) {\r\n  createTimer(() => {\r\n    const btn = domCache.subNav?.querySelector(selector);\r\n    if (!btn) return;\r\n\r\n    setStyle(btn, 'display', 'inline-block');\r\n    addClass(btn, 'btn-droplet');\r\n\r\n    createTimer(() => {\r\n      removeClass(btn, 'btn-droplet');\r\n    }, TIMING.DROPLET_DURATION);\r\n  }, delay);\r\n}\r\n\r\nfunction setProgress(percent, durationMs = 0, easing = 'linear', defer = 50) {\r\n  const p = domCache.progress;\r\n  if (!p) return;\r\n\r\n  // Set transition if requested\r\n  setStyle(p, 'transition', durationMs ? `width ${durationMs}ms ${easing}` : '');\r\n\r\n  // Defer the width change slightly so the transition takes effect\r\n  createTimer(() => {\r\n    setStyle(p, 'width', percent);\r\n  }, defer);\r\n}\r\n\r\nfunction setActiveSubNav(sectionKey) {\r\n  const subNav = domCache.subNav;\r\n  if (!subNav) return;\r\n\r\n  const buttons = subNav.querySelectorAll(SELECTORS.SUB_NAV_BUTTONS);\r\n  buttons.forEach(btn => {\r\n    removeClass(btn, 'active');\r\n    if (btn.dataset.section === sectionKey) addClass(btn, 'active');\r\n  });\r\n}\r\n\r\nexport function cleanupHomeAnimations() {\r\n  clearAllTimers();\r\n\r\n  // Reset DOM state\r\n  if (domCache.subNav) {\r\n    // Hide sub-nav container animation state (home.css hides it unless .show)\r\n    removeClass(domCache.subNav, 'show');\r\n\r\n    const buttons = domCache.subNav.querySelectorAll(SELECTORS.SUB_NAV_BUTTONS);\r\n    buttons.forEach(btn => {\r\n      setStyle(btn, 'display', 'none');\r\n      removeClass(btn, 'btn-droplet');\r\n      removeClass(btn, 'active');\r\n    });\r\n  }\r\n\r\n  // Reset progress bar\r\n  if (domCache.progress) {\r\n    setStyle(domCache.progress, 'transition', '');\r\n    setStyle(domCache.progress, 'width', '0%');\r\n  }\r\n\r\n  // Clear DOM cache\r\n  Object.keys(domCache).forEach(key => {\r\n    domCache[key] = null;\r\n  });\r\n}\r\n\r\nexport function startHomeSequence() {\r\n  // Ensure previous animations are cleared before caching DOM nodes\r\n  cleanupHomeAnimations();\r\n  initDOMCache();\r\n\r\n  const { hero, parade, cta, subNav, skipBtn } = domCache;\r\n  debugLog(' startHomeSequence initiated - Parade element:', parade);\r\n  if (!hero || !parade || !cta) {\r\n    console.error(' Missing required sections:', { hero, parade, cta });\r\n    return;\r\n  }\r\n\r\n  // Always reset home sections to a known baseline.\r\n  // Important: showHomeSection() uses inline display styles; those can block .active CSS.\r\n  const allSections = getElements(SELECTORS.HOME_SECTIONS);\r\n  allSections.forEach(section => {\r\n    removeClass(section, 'active');\r\n    removeClass(section, 'fade-out-up');\r\n    // Clear any inline display overrides so CSS can drive visibility again\r\n    setStyle(section, 'display', '');\r\n  });\r\n\r\n  // Ensure hero starts visible\r\n  addClass(hero, 'active');\r\n  setActiveSubNav('hero');\r\n\r\n  // Set initial gradient\r\n  removeClass(document.body, GRADIENT_CLASSES.PARADE);\r\n  removeClass(document.body, GRADIENT_CLASSES.CTA);\r\n  addClass(document.body, GRADIENT_CLASSES.HERO);\r\n\r\n  // Show sub-nav but hide all buttons\r\n  if (subNav) {\r\n    // home.css keeps sub-nav hidden unless the `.show` class is present\r\n    setStyle(subNav, 'display', 'flex');\r\n    removeClass(subNav, 'show');\r\n    // Defer so the browser can apply initial (hidden) state, then animate in\r\n    createTimer(() => addClass(subNav, 'show'), 30);\r\n\r\n    const allButtons = subNav.querySelectorAll(SELECTORS.SUB_NAV_BUTTONS);\r\n    allButtons.forEach(btn => setStyle(btn, 'display', 'none'));\r\n\r\n    // Show the first button early so the sub-nav isn't an empty bar.\r\n    showButtonWithDroplet('[data-section=\"hero\"]', 120);\r\n  }\r\n\r\n  // Initialize and animate progress bar (if present)\r\n  if (domCache.progress) {\r\n    // Reset\r\n    setStyle(domCache.progress, 'width', '0%');\r\n    // Animate to first milestone (hero -> 33%) over HERO_DURATION\r\n    setProgress('33%', TIMING.HERO_DURATION);\r\n  }\r\n\r\n  // Step 1: Show hero for duration\r\n  createTimer(() => {\r\n    // Transition to parade\r\n    replaceClass(document.body, GRADIENT_CLASSES.HERO, GRADIENT_CLASSES.PARADE);\r\n    // If a fade-out class exists, it can be applied here; otherwise we rely on section swap.\r\n\r\n    // Immediately show parade (removed the CTA_FADE_IN delay)\r\n    createTimer(() => {\r\n      removeClass(hero, 'active');\r\n\r\n      // Clear any inline display overrides that could prevent the parade from showing\r\n      setStyle(parade, 'display', '');\r\n\r\n      addClass(parade, 'active');\r\n      debugLog(' Parade class added:', parade.className);\r\n      debugLog(' Parade element:', parade);\r\n      debugLog(' Parade classList:', parade.classList);\r\n\r\n      setActiveSubNav('eleccion');\r\n\r\n      showButtonWithDroplet('[data-section=\"eleccion\"]', TIMING.BUTTON_DELAY);\r\n\r\n      // Step 2: Show parade for duration\r\n      // Update progress to 66% during parade\r\n      if (domCache.progress) setProgress('66%', TIMING.PARADE_DURATION);\r\n\r\n      createTimer(() => {\r\n        // Transition to CTA\r\n        replaceClass(document.body, GRADIENT_CLASSES.PARADE, GRADIENT_CLASSES.CTA);\r\n        // Remove parade visibility without using non-existent class\r\n        removeClass(parade, 'active');\r\n\r\n        // Clear any inline display overrides that could prevent the CTA from showing\r\n        setStyle(cta, 'display', '');\r\n\r\n        createTimer(() => {\r\n          addClass(cta, 'active');\r\n\r\n          setActiveSubNav('cotiza');\r\n\r\n          showButtonWithDroplet('[data-section=\"cotiza\"]', TIMING.BUTTON_DELAY);\r\n\r\n          if (skipBtn) setStyle(skipBtn, 'display', 'none');\r\n          // Complete progress on CTA show\r\n          if (domCache.progress) setProgress('100%', TIMING.CTA_FADE_IN, 'ease-out');\r\n        }, TIMING.CTA_FADE_IN);\r\n      }, TIMING.PARADE_DURATION);\r\n    }, 0); // No delay - show immediately after hero transition\r\n  }, TIMING.HERO_DURATION);\r\n}\r\n\r\nexport function skipToFinalState() {\r\n  // Clear any running animations first, then initialize DOM cache\r\n  cleanupHomeAnimations();\r\n  initDOMCache();\r\n\r\n  const { hero, parade, cta, subNav, skipBtn } = domCache;\r\n  if (!hero || !parade || !cta) return;\r\n\r\n  // Set final gradient\r\n  removeClass(document.body, GRADIENT_CLASSES.HERO);\r\n  removeClass(document.body, GRADIENT_CLASSES.PARADE);\r\n  addClass(document.body, GRADIENT_CLASSES.CTA);\r\n\r\n  // IMPORTANT: Hide ALL sections first, including any fade animations\r\n  const allSections = getElements(SELECTORS.HOME_SECTIONS);\r\n  allSections.forEach(section => {\r\n    removeClass(section, 'active');\r\n    removeClass(section, 'fade-out-up');\r\n    // Clear any inline display overrides so .active can take effect\r\n    setStyle(section, 'display', '');\r\n  });\r\n\r\n  // Now show ONLY the CTA section\r\n  setStyle(cta, 'display', '');\r\n  addClass(cta, 'active');\r\n\r\n  // Show all buttons with stagger\r\n  if (subNav) {\r\n    setStyle(subNav, 'display', 'flex');\r\n    removeClass(subNav, 'show');\r\n    createTimer(() => addClass(subNav, 'show'), 30);\r\n\r\n    const allButtons = subNav.querySelectorAll(SELECTORS.SUB_NAV_BUTTONS);\r\n    allButtons.forEach((btn, index) => {\r\n      setStyle(btn, 'display', 'inline-block');\r\n      createTimer(() => {\r\n        addClass(btn, 'btn-droplet');\r\n        createTimer(() => {\r\n          removeClass(btn, 'btn-droplet');\r\n        }, TIMING.DROPLET_DURATION);\r\n      }, index * TIMING.BUTTON_STAGGER);\r\n    });\r\n  }\r\n\r\n  // Remove skip button\r\n  if (skipBtn) setStyle(skipBtn, 'display', 'none');\r\n\r\n  // Ensure progress is complete\r\n  if (domCache.progress) {\r\n    // Fast completion without long transition\r\n    setProgress('100%', 300, 'ease-out', 10);\r\n  }\r\n}\r\n\r\nexport function showHomeSection(section) {\r\n  // Manual navigation should cancel the automated intro sequence to avoid desync.\r\n  clearAllTimers();\r\n  initDOMCache();\r\n\r\n  // Update gradient based on section\r\n  const sectionMap = {\r\n    hero: GRADIENT_CLASSES.HERO,\r\n    eleccion: GRADIENT_CLASSES.PARADE,\r\n    cotiza: GRADIENT_CLASSES.CTA\r\n  };\r\n\r\n  // Remove all gradient classes\r\n  removeClass(document.body, GRADIENT_CLASSES.HERO);\r\n  removeClass(document.body, GRADIENT_CLASSES.PARADE);\r\n  removeClass(document.body, GRADIENT_CLASSES.CTA);\r\n\r\n  // Add new gradient class\r\n  if (sectionMap[section]) {\r\n    addClass(document.body, sectionMap[section]);\r\n  }\r\n\r\n  // Update nav buttons\r\n  const buttons = getElements(SELECTORS.SUB_NAV_BUTTONS);\r\n  buttons.forEach(btn => {\r\n    removeClass(btn, 'active');\r\n    if (btn.dataset.section === section) {\r\n      addClass(btn, 'active');\r\n    }\r\n  });\r\n\r\n  // Hide all sections\r\n  const allSections = getElements(SELECTORS.HOME_SECTIONS);\r\n  allSections.forEach(sec => {\r\n    removeClass(sec, 'active');\r\n    removeClass(sec, 'fade-out-up');\r\n    setStyle(sec, 'display', 'none');\r\n  });\r\n\r\n  // Show selected section\r\n  const targetSection = getElement(`#${section}-section`, false);\r\n  if (targetSection) {\r\n    setStyle(targetSection, 'display', 'flex');\r\n    addClass(targetSection, 'active');\r\n\r\n    // Reinitialize stats if showing hero\r\n    if (section === 'hero') {\r\n      createTimer(() => {\r\n        initStatsAnimation();\r\n      }, 100);\r\n    }\r\n    // Update progress bar to reflect manual selection\r\n    if (domCache.progress) {\r\n      const mapping = {\r\n        hero: '33%',\r\n        eleccion: '66%',\r\n        cotiza: '100%'\r\n      };\r\n      const pct = mapping[section] || '0%';\r\n      setProgress(pct, 400, 'ease-out', 10);\r\n    }\r\n  }\r\n}\r\n\r\nexport function initStatsAnimation() {\r\n  const statNumbers = getElements(SELECTORS.STAT_NUMBERS);\r\n  statNumbers.forEach(stat => {\r\n    const target = parseInt(stat.dataset.target);\r\n    animateCounter(stat, target);\r\n  });\r\n}\r\n\r\nfunction animateCounter(element, target, duration = TIMING.STATS_ANIMATION) {\r\n  const startTime = Date.now();\r\n\r\n  function update() {\r\n    const now = Date.now();\r\n    const progress = Math.min((now - startTime) / duration, 1);\r\n    const easeOut = 1 - Math.pow(1 - progress, 3);\r\n    const currentValue = Math.floor(easeOut * target);\r\n\r\n    element.textContent = currentValue;\r\n\r\n    if (progress < 1) {\r\n      requestAnimationFrame(update);\r\n    } else {\r\n      element.textContent = target;\r\n    }\r\n  }\r\n\r\n  requestAnimationFrame(update);\r\n}\r\n","// Notifications System\r\nimport { TIMING, NOTIFICATION_TYPES } from '../utils/constants.js';\r\nimport { createElement, addClass, removeClass } from '../utils/dom.js';\r\n\r\n// Notification manager: append notifications into a wrapper so multiple\r\n// messages stack cleanly and are reliably removed.\r\nconst WRAPPER_ID = 'notification-wrapper';\r\n\r\nfunction ensureWrapper() {\r\n  let wrapper = document.getElementById(WRAPPER_ID);\r\n  if (!wrapper) {\r\n    wrapper = createElement('div', 'notification-wrapper', { id: WRAPPER_ID });\r\n    document.body.appendChild(wrapper);\r\n  }\r\n  return wrapper;\r\n}\r\n\r\nfunction hideAndRemove(notification) {\r\n  if (!notification) return;\r\n  // prevent double-removal\r\n  if (notification.__removing) return;\r\n  notification.__removing = true;\r\n  removeClass(notification, 'show');\r\n  // wait for CSS transition then remove\r\n  const onTransitionEnd = (e) => {\r\n    if (e && e.target !== notification) return;\r\n    notification.removeEventListener('transitionend', onTransitionEnd);\r\n    if (notification.parentElement) notification.parentElement.removeChild(notification);\r\n  };\r\n  notification.addEventListener('transitionend', onTransitionEnd);\r\n  // Fallback removal in case transitionend doesn't fire\r\n  setTimeout(() => {\r\n    if (notification.parentElement) notification.parentElement.removeChild(notification);\r\n  }, 400);\r\n}\r\n\r\nexport function showNotification(message, type = NOTIFICATION_TYPES.INFO, options = {}) {\r\n  const { duration = TIMING.NOTIFICATION_DURATION, dismissible = true } = options;\r\n  const wrapper = ensureWrapper();\r\n\r\n  const notification = createElement('div', `notification notification-${type}`);\r\n\r\n  // content\r\n  const content = createElement('div', 'notification-body');\r\n  content.textContent = message;\r\n  notification.appendChild(content);\r\n\r\n  // optional dismiss button\r\n  if (dismissible) {\r\n    const btn = createElement('button', 'notification-close');\r\n    btn.setAttribute('aria-label', 'Cerrar notificacin');\r\n    btn.innerHTML = '&times;';\r\n    btn.addEventListener('click', () => hideAndRemove(notification));\r\n    notification.appendChild(btn);\r\n  }\r\n\r\n  wrapper.appendChild(notification);\r\n\r\n  // trigger enter animation\r\n  requestAnimationFrame(() => addClass(notification, 'show'));\r\n\r\n  // auto-dismiss\r\n  if (duration > 0) {\r\n    const tid = setTimeout(() => hideAndRemove(notification), duration);\r\n    // attach so it can be cleared if needed\r\n    notification.__timeout = tid;\r\n  }\r\n\r\n  return notification;\r\n}\r\n\r\nexport function clearNotifications() {\r\n  const wrapper = document.getElementById(WRAPPER_ID);\r\n  if (!wrapper) return;\r\n  Array.from(wrapper.children).forEach(n => hideAndRemove(n));\r\n}\r\n","// Particles Animation System (theme-aware)\r\n// Default theme: Dust/Bokeh\r\n// Dark Forest theme: Fireflies\r\nimport { PARTICLES_CONFIG, SELECTORS } from '../utils/constants.js';\r\nimport { getElement } from '../utils/dom.js';\r\n\r\nlet canvas = null;\r\nlet ctx = null;\r\nlet particles = [];\r\nlet animationFrameId = null;\r\n\r\nlet canvasWidth = 0;\r\nlet canvasHeight = 0;\r\nlet dpr = 1;\r\n\r\nlet themeObserver = null;\r\nlet activeThemeKey = null;\r\nlet activeProfile = null;\r\nlet activePalette = null;\r\n\r\nfunction clamp(n, min, max) {\r\n  return Math.min(max, Math.max(min, n));\r\n}\r\n\r\nfunction rand(min, max) {\r\n  return Math.random() * (max - min) + min;\r\n}\r\n\r\nfunction parseCssColorToRgb(color) {\r\n  if (!color) return { r: 255, g: 255, b: 255 };\r\n  const c = String(color).trim();\r\n\r\n  // hex\r\n  if (c.startsWith('#')) {\r\n    const hex = c.slice(1);\r\n    if (hex.length === 3) {\r\n      const r = parseInt(hex[0] + hex[0], 16);\r\n      const g = parseInt(hex[1] + hex[1], 16);\r\n      const b = parseInt(hex[2] + hex[2], 16);\r\n      return { r, g, b };\r\n    }\r\n    if (hex.length === 6) {\r\n      const r = parseInt(hex.slice(0, 2), 16);\r\n      const g = parseInt(hex.slice(2, 4), 16);\r\n      const b = parseInt(hex.slice(4, 6), 16);\r\n      return { r, g, b };\r\n    }\r\n  }\r\n\r\n  // rgb/rgba\r\n  const m = c.match(/rgba?\\(([^)]+)\\)/i);\r\n  if (m) {\r\n    const parts = m[1].split(',').map(s => s.trim());\r\n    const r = parseFloat(parts[0]);\r\n    const g = parseFloat(parts[1]);\r\n    const b = parseFloat(parts[2]);\r\n    if ([r, g, b].every(v => Number.isFinite(v))) {\r\n      return { r, g, b };\r\n    }\r\n  }\r\n\r\n  // fallback\r\n  return { r: 255, g: 255, b: 255 };\r\n}\r\n\r\nfunction rgba(rgb, a) {\r\n  const alpha = clamp(a, 0, 1);\r\n  return `rgba(${Math.round(rgb.r)}, ${Math.round(rgb.g)}, ${Math.round(rgb.b)}, ${alpha})`;\r\n}\r\n\r\nfunction getThemeKey() {\r\n  const theme = document.documentElement.getAttribute('data-theme');\r\n  return theme === 'dark-forest' ? 'dark-forest' : 'default';\r\n}\r\n\r\nfunction readCssVar(name, fallback = '') {\r\n  try {\r\n    const v = getComputedStyle(document.documentElement).getPropertyValue(name);\r\n    const out = (v || '').trim();\r\n    return out || fallback;\r\n  } catch {\r\n    return fallback;\r\n  }\r\n}\r\n\r\nfunction buildPalette(themeKey) {\r\n  // Use semantic theme tokens so visuals adapt correctly\r\n  const text = parseCssColorToRgb(readCssVar('--theme-text-primary', '#ffffff'));\r\n  const accent = parseCssColorToRgb(readCssVar('--theme-accent-color', '#ffffff'));\r\n  const glow = parseCssColorToRgb(readCssVar('--theme-highlight-glow', 'rgba(255,255,255,0.35)'));\r\n  const warm = parseCssColorToRgb(readCssVar('--theme-highlight-strong', '#ffd700'));\r\n\r\n  if (themeKey === 'dark-forest') {\r\n    return {\r\n      core: warm,\r\n      halo: glow,\r\n      line: accent,\r\n      ink: text\r\n    };\r\n  }\r\n\r\n  // default: dust/bokeh reads nicer with a softer highlight\r\n  const soft = parseCssColorToRgb(readCssVar('--theme-highlight-light', '#ffffff'));\r\n  return {\r\n    core: soft,\r\n    halo: glow,\r\n    line: accent,\r\n    ink: text\r\n  };\r\n}\r\n\r\nfunction getProfile(themeKey) {\r\n  // Keep counts conservative (dashboards are UI-dense)\r\n  if (themeKey === 'dark-forest') {\r\n    return {\r\n      style: 'fireflies',\r\n      maxCount: 42,\r\n      densityFactor: 38000,\r\n      minSize: 1.4,\r\n      maxSize: 3.2,\r\n      minSpeed: 0.01,\r\n      maxSpeed: 0.055,\r\n      minOpacity: 0.22,\r\n      maxOpacity: 0.55,\r\n      twinkleMin: 0.003,\r\n      twinkleMax: 0.012,\r\n      glowRadiusMin: 12,\r\n      glowRadiusMax: 26,\r\n      composite: 'lighter',\r\n      connections: {\r\n        enabled: false\r\n      }\r\n    };\r\n  }\r\n\r\n  return {\r\n    style: 'dust',\r\n    maxCount: Math.min(PARTICLES_CONFIG.MAX_COUNT, 70),\r\n    densityFactor: 24000,\r\n    minSize: 1.2,\r\n    maxSize: 4.6,\r\n    minSpeed: 0.008,\r\n    maxSpeed: 0.05,\r\n    minOpacity: 0.16,\r\n    maxOpacity: 0.38,\r\n    twinkleMin: 0.0015,\r\n    twinkleMax: 0.006,\r\n    glowRadiusMin: 8,\r\n    glowRadiusMax: 18,\r\n    composite: 'source-over',\r\n    // very subtle (option C flavor) so it doesn't fight UI\r\n    connections: {\r\n      enabled: true,\r\n      distance: 120,\r\n      baseOpacity: 0.10,\r\n      lineWidth: 1\r\n    }\r\n  };\r\n}\r\n\r\nclass Particle {\r\n  constructor(width, height, profile) {\r\n    this.x = Math.random() * width;\r\n    this.y = Math.random() * height;\r\n\r\n    this.baseSize = rand(profile.minSize, profile.maxSize);\r\n    this.size = this.baseSize;\r\n\r\n    const speed = rand(profile.minSpeed, profile.maxSpeed);\r\n    const angle = Math.random() * Math.PI * 2;\r\n    this.vx = Math.cos(angle) * speed;\r\n    this.vy = Math.sin(angle) * speed;\r\n\r\n    this.baseOpacity = rand(profile.minOpacity, profile.maxOpacity);\r\n    this.opacity = this.baseOpacity;\r\n\r\n    this.twinklePhase = Math.random() * Math.PI * 2;\r\n    this.twinkleSpeed = rand(profile.twinkleMin, profile.twinkleMax);\r\n    this.driftPhase = Math.random() * Math.PI * 2;\r\n    this.driftSpeed = rand(0.0008, 0.002);\r\n    this.driftStrength = rand(0.0006, 0.0022);\r\n\r\n    this.width = width;\r\n    this.height = height;\r\n    this.profile = profile;\r\n  }\r\n\r\n  update() {\r\n    // gentle drift/wander\r\n    this.driftPhase += this.driftSpeed;\r\n    this.vx += Math.cos(this.driftPhase) * this.driftStrength;\r\n    this.vy += Math.sin(this.driftPhase) * this.driftStrength;\r\n\r\n    // clamp speed\r\n    const speed = Math.sqrt(this.vx * this.vx + this.vy * this.vy);\r\n    const max = this.profile.maxSpeed;\r\n    if (speed > max) {\r\n      const s = max / speed;\r\n      this.vx *= s;\r\n      this.vy *= s;\r\n    }\r\n\r\n    this.x += this.vx;\r\n    this.y += this.vy;\r\n\r\n    // wrap edges (calmer than bouncing)\r\n    const margin = 20;\r\n    if (this.x < -margin) this.x = this.width + margin;\r\n    if (this.x > this.width + margin) this.x = -margin;\r\n    if (this.y < -margin) this.y = this.height + margin;\r\n    if (this.y > this.height + margin) this.y = -margin;\r\n\r\n    // twinkle\r\n    this.twinklePhase += this.twinkleSpeed;\r\n    const tw = 0.65 + 0.35 * Math.sin(this.twinklePhase);\r\n    this.opacity = this.baseOpacity * tw;\r\n    this.size = this.baseSize * (0.92 + 0.12 * tw);\r\n  }\r\n\r\n  draw(palette) {\r\n    const profile = this.profile;\r\n\r\n    // Fireflies: warmer core + stronger halo\r\n    if (profile.style === 'fireflies') {\r\n      const glowR = rand(profile.glowRadiusMin, profile.glowRadiusMax);\r\n      const g = ctx.createRadialGradient(this.x, this.y, 0, this.x, this.y, glowR);\r\n      g.addColorStop(0, rgba(palette.core, this.opacity * 0.85));\r\n      g.addColorStop(0.5, rgba(palette.halo, this.opacity * 0.22));\r\n      g.addColorStop(1, rgba(palette.halo, 0));\r\n      ctx.fillStyle = g;\r\n      ctx.beginPath();\r\n      ctx.arc(this.x, this.y, glowR, 0, Math.PI * 2);\r\n      ctx.fill();\r\n\r\n      // tiny core dot\r\n      ctx.fillStyle = rgba(palette.core, this.opacity);\r\n      ctx.beginPath();\r\n      ctx.arc(this.x, this.y, Math.max(0.8, this.size * 0.85), 0, Math.PI * 2);\r\n      ctx.fill();\r\n      return;\r\n    }\r\n\r\n    // Dust/Bokeh: soft blobs\r\n    const r = Math.max(2, this.size * 3.8);\r\n    const grad = ctx.createRadialGradient(this.x, this.y, 0, this.x, this.y, r);\r\n    grad.addColorStop(0, rgba(palette.core, this.opacity * 0.80));\r\n    grad.addColorStop(0.45, rgba(palette.halo, this.opacity * 0.22));\r\n    grad.addColorStop(1, rgba(palette.halo, 0));\r\n    ctx.fillStyle = grad;\r\n    ctx.beginPath();\r\n    ctx.arc(this.x, this.y, r, 0, Math.PI * 2);\r\n    ctx.fill();\r\n  }\r\n}\r\n\r\nfunction connectParticles(palette, profile) {\r\n  const conn = profile.connections;\r\n  if (!conn || !conn.enabled) return;\r\n\r\n  const maxD = conn.distance;\r\n  for (let i = 0; i < particles.length; i++) {\r\n    for (let j = i + 1; j < particles.length; j++) {\r\n      const dx = particles[i].x - particles[j].x;\r\n      const dy = particles[i].y - particles[j].y;\r\n      const distance = Math.sqrt(dx * dx + dy * dy);\r\n      if (distance >= maxD) continue;\r\n\r\n      const a = conn.baseOpacity * (1 - distance / maxD);\r\n      ctx.strokeStyle = rgba(palette.line, a);\r\n      ctx.lineWidth = conn.lineWidth || 1;\r\n      ctx.beginPath();\r\n      ctx.moveTo(particles[i].x, particles[i].y);\r\n      ctx.lineTo(particles[j].x, particles[j].y);\r\n      ctx.stroke();\r\n    }\r\n  }\r\n}\r\n\r\nfunction resizeCanvas() {\r\n  if (!canvas) return;\r\n\r\n  canvasWidth = window.innerWidth;\r\n  canvasHeight = window.innerHeight;\r\n\r\n  dpr = Math.min(window.devicePixelRatio || 1, 2);\r\n  canvas.width = Math.floor(canvasWidth * dpr);\r\n  canvas.height = Math.floor(canvasHeight * dpr);\r\n  canvas.style.width = `${canvasWidth}px`;\r\n  canvas.style.height = `${canvasHeight}px`;\r\n\r\n  if (ctx) {\r\n    ctx.setTransform(dpr, 0, 0, dpr, 0, 0);\r\n  }\r\n\r\n  // Reinitialize particles with new dimensions\r\n  if (activeProfile) {\r\n    particles = particles.map(() => new Particle(canvasWidth, canvasHeight, activeProfile));\r\n  }\r\n}\r\n\r\nfunction applyThemeProfile(force = false) {\r\n  const themeKey = getThemeKey();\r\n  if (!force && themeKey === activeThemeKey) return;\r\n\r\n  activeThemeKey = themeKey;\r\n  activeProfile = getProfile(themeKey);\r\n  activePalette = buildPalette(themeKey);\r\n\r\n  if (!canvas) return;\r\n  // rebuild particles to match style and count\r\n  particles = [];\r\n  const particleCount = Math.min(\r\n    activeProfile.maxCount,\r\n    Math.floor((canvasWidth * canvasHeight) / activeProfile.densityFactor)\r\n  );\r\n  for (let i = 0; i < particleCount; i++) {\r\n    particles.push(new Particle(canvasWidth, canvasHeight, activeProfile));\r\n  }\r\n}\r\n\r\nfunction watchThemeChanges() {\r\n  if (themeObserver) return;\r\n  themeObserver = new MutationObserver(() => applyThemeProfile(false));\r\n  themeObserver.observe(document.documentElement, { attributes: true, attributeFilter: ['data-theme'] });\r\n}\r\n\r\nfunction unwatchThemeChanges() {\r\n  if (!themeObserver) return;\r\n  themeObserver.disconnect();\r\n  themeObserver = null;\r\n}\r\n\r\nfunction initParticles() {\r\n  canvas = getElement(SELECTORS.PARTICLES_CANVAS, false);\r\n  if (!canvas) return false;\r\n\r\n  ctx = canvas.getContext('2d');\r\n  resizeCanvas();\r\n\r\n  applyThemeProfile(true);\r\n\r\n  return true;\r\n}\r\n\r\nfunction animateParticles() {\r\n  if (!ctx || !canvas) return;\r\n\r\n  // Ensure composite mode matches active style\r\n  if (activeProfile && activeProfile.composite) {\r\n    ctx.globalCompositeOperation = activeProfile.composite;\r\n  } else {\r\n    ctx.globalCompositeOperation = 'source-over';\r\n  }\r\n\r\n  ctx.clearRect(0, 0, canvasWidth, canvasHeight);\r\n\r\n  particles.forEach(particle => {\r\n    particle.update();\r\n    particle.draw(activePalette);\r\n  });\r\n\r\n  // Keep constellation flavor only on default (very subtle)\r\n  connectParticles(activePalette, activeProfile);\r\n\r\n  animationFrameId = requestAnimationFrame(animateParticles);\r\n}\r\n\r\nexport function startParticles() {\r\n  if (initParticles()) {\r\n    window.addEventListener('resize', resizeCanvas);\r\n    watchThemeChanges();\r\n    animateParticles();\r\n  }\r\n}\r\n\r\nexport function stopParticles() {\r\n  if (animationFrameId) {\r\n    cancelAnimationFrame(animationFrameId);\r\n    animationFrameId = null;\r\n  }\r\n  window.removeEventListener('resize', resizeCanvas);\r\n  unwatchThemeChanges();\r\n  particles = [];\r\n}\r\n","// Services Tech Modules Navigation\r\n// Handles active state for the Services technical module nav (Gua/Proceso/Comparador/Siniestros/FAQ)\r\n\r\nfunction getPanelIdFromLink(link) {\r\n    const href = link?.getAttribute?.('href') || '';\r\n    if (!href.startsWith('#')) return null;\r\n    const id = href.slice(1).trim();\r\n    return id || null;\r\n}\r\n\r\nexport function initServicesTechNav(root = document) {\r\n    const container = root.querySelector?.('.services-tech');\r\n    if (!container) return;\r\n\r\n    // Cleanup any previous instance (in case we re-navigate to services)\r\n    if (typeof window.__servicesTechNavCleanup === 'function') {\r\n        try {\r\n            window.__servicesTechNavCleanup();\r\n        } catch {\r\n            // no-op\r\n        }\r\n    }\r\n\r\n    const links = Array.from(container.querySelectorAll('.services-tech-link'));\r\n    const panels = Array.from(container.querySelectorAll('.services-panel'));\r\n    const panelsContainer = container.querySelector('.services-tech-panels');\r\n\r\n    if (!links.length || !panels.length) return;\r\n\r\n    // Signal to CSS that JS has enhanced the module nav (disables first-tab fallback styles)\r\n    container.classList.add('is-enhanced');\r\n\r\n    const panelById = new Map(panels.filter(p => p?.id).map(p => [p.id, p]));\r\n\r\n    const defaultId = getPanelIdFromLink(links[0]) || panels[0].id;\r\n\r\n    const isDesktopLayout = () => {\r\n        try {\r\n            return !!window.matchMedia?.('(min-width: 1024px)')?.matches;\r\n        } catch {\r\n            return false;\r\n        }\r\n    };\r\n\r\n    let isProgrammaticScroll = false;\r\n    let programmaticScrollTimer = null;\r\n    let observer = null;\r\n    let compareUnlockTimer = null;\r\n    let dragScrollCleanups = [];\r\n\r\n    const COMPARE_PANEL_ID = 'services-panel-compare';\r\n    const COMPARE_ACTIVE_CLASS = 'is-compare-active';\r\n\r\n    function isMobileOrTabletLayout() {\r\n        return !isDesktopLayout();\r\n    }\r\n\r\n    function setCompareActiveState(isActive) {\r\n        if (!isMobileOrTabletLayout()) {\r\n            container.classList.remove(COMPARE_ACTIVE_CLASS);\r\n            return;\r\n        }\r\n\r\n        if (isActive) container.classList.add(COMPARE_ACTIVE_CLASS);\r\n        else container.classList.remove(COMPARE_ACTIVE_CLASS);\r\n    }\r\n\r\n    function enableDragToScrollX(el, {\r\n        ignoreSelector = 'a, button, input, textarea, select, label, [role=\"button\"]'\r\n    } = {}) {\r\n        if (!el || el.dataset?.dragScrollX === '1') return () => { };\r\n        el.dataset.dragScrollX = '1';\r\n\r\n        let isDragging = false;\r\n        let startX = 0;\r\n        let startScrollLeft = 0;\r\n        let activePointerId = null;\r\n\r\n        const onPointerDown = (e) => {\r\n            // Only mouse/pen dragging; touch devices should use native panning.\r\n            if (e.pointerType === 'touch') return;\r\n            if (e.button !== 0) return;\r\n\r\n            // Don't hijack clicks on interactive elements.\r\n            if (ignoreSelector && e.target?.closest?.(ignoreSelector)) return;\r\n\r\n            // If the element can't scroll horizontally, don't start.\r\n            if (el.scrollWidth <= el.clientWidth + 1) return;\r\n\r\n            isDragging = true;\r\n            activePointerId = e.pointerId;\r\n            startX = e.clientX;\r\n            startScrollLeft = el.scrollLeft;\r\n            el.classList.add('is-dragging');\r\n\r\n            try {\r\n                el.setPointerCapture?.(activePointerId);\r\n            } catch {\r\n                // no-op\r\n            }\r\n\r\n            // Prevent text selection while dragging.\r\n            e.preventDefault();\r\n        };\r\n\r\n        const onPointerMove = (e) => {\r\n            if (!isDragging) return;\r\n            if (activePointerId != null && e.pointerId !== activePointerId) return;\r\n\r\n            const dx = e.clientX - startX;\r\n            el.scrollLeft = startScrollLeft - dx;\r\n        };\r\n\r\n        const stopDrag = () => {\r\n            if (!isDragging) return;\r\n            isDragging = false;\r\n            activePointerId = null;\r\n            el.classList.remove('is-dragging');\r\n        };\r\n\r\n        el.addEventListener('pointerdown', onPointerDown);\r\n        el.addEventListener('pointermove', onPointerMove);\r\n        el.addEventListener('pointerup', stopDrag);\r\n        el.addEventListener('pointercancel', stopDrag);\r\n        el.addEventListener('lostpointercapture', stopDrag);\r\n\r\n        return () => {\r\n            el.removeEventListener('pointerdown', onPointerDown);\r\n            el.removeEventListener('pointermove', onPointerMove);\r\n            el.removeEventListener('pointerup', stopDrag);\r\n            el.removeEventListener('pointercancel', stopDrag);\r\n            el.removeEventListener('lostpointercapture', stopDrag);\r\n            try {\r\n                delete el.dataset.dragScrollX;\r\n            } catch {\r\n                // no-op\r\n            }\r\n            el.classList.remove('is-dragging');\r\n        };\r\n    }\r\n\r\n    function enhanceCompareHorizontalScroll() {\r\n        // Comparator card rail (horizontal)\r\n        const compareGrid = container.querySelector?.(`#${COMPARE_PANEL_ID} .services-compare-grid`);\r\n        if (compareGrid) {\r\n            // Make it keyboard-focusable (arrow keys + scrollbar drag).\r\n            if (!compareGrid.hasAttribute('tabindex')) compareGrid.tabIndex = 0;\r\n            if (!compareGrid.hasAttribute('role')) compareGrid.setAttribute('role', 'region');\r\n            if (!compareGrid.hasAttribute('aria-label')) compareGrid.setAttribute('aria-label', 'Comparador: desplzate horizontalmente');\r\n\r\n            dragScrollCleanups.push(\r\n                enableDragToScrollX(compareGrid, {\r\n                    // Let the inner tables keep their own scroll behavior.\r\n                    ignoreSelector: 'a, button, input, textarea, select, label, [role=\"button\"], .services-compare-table-wrapper, table'\r\n                })\r\n            );\r\n        }\r\n\r\n        // Individual comparison tables (also horizontal on narrow widths)\r\n        const tableWrappers = Array.from(container.querySelectorAll(`#${COMPARE_PANEL_ID} .services-compare-table-wrapper`));\r\n        for (const w of tableWrappers) {\r\n            dragScrollCleanups.push(enableDragToScrollX(w));\r\n        }\r\n    }\r\n\r\n    function markProgrammaticScroll(ms = 650) {\r\n        isProgrammaticScroll = true;\r\n        if (programmaticScrollTimer) window.clearTimeout(programmaticScrollTimer);\r\n        programmaticScrollTimer = window.setTimeout(() => {\r\n            isProgrammaticScroll = false;\r\n            programmaticScrollTimer = null;\r\n        }, ms);\r\n    }\r\n\r\n    function setActive(id, { scrollIntoView = true, updateHash = false } = {}) {\r\n        if (!id || !panelById.has(id)) id = defaultId;\r\n\r\n        // On desktop, panels are not horizontally scrollable; avoid vertical jumps.\r\n        if (isDesktopLayout()) {\r\n            scrollIntoView = false;\r\n        }\r\n\r\n        // Links\r\n        for (const link of links) {\r\n            const linkId = getPanelIdFromLink(link);\r\n            if (linkId === id) link.classList.add('is-active');\r\n            else link.classList.remove('is-active');\r\n        }\r\n\r\n        // Panels\r\n        for (const panel of panels) {\r\n            if (panel.id === id) panel.classList.add('is-active');\r\n            else panel.classList.remove('is-active');\r\n        }\r\n\r\n        // On mobile/tablet, the panels container is itself a horizontal scroller.\r\n        // When the comparator is active, we want horizontal gestures to operate on the comparator rail,\r\n        // not the outer panels scroller. We apply the state class AFTER scrollIntoView so we don't block alignment.\r\n        if (compareUnlockTimer) {\r\n            window.clearTimeout(compareUnlockTimer);\r\n            compareUnlockTimer = null;\r\n        }\r\n\r\n        setCompareActiveState(false);\r\n\r\n        if (updateHash) {\r\n            const currentHashId = (window.location.hash || '').replace('#', '').trim();\r\n            if (currentHashId !== id) {\r\n                const nextUrl = `${window.location.pathname}${window.location.search}#${id}`;\r\n                window.history.replaceState(null, '', nextUrl);\r\n            }\r\n        }\r\n\r\n        if (scrollIntoView) {\r\n            const panel = panelById.get(id);\r\n            if (panel) {\r\n                markProgrammaticScroll();\r\n                // If panels are horizontally scrollable (mobile/tablet), align the chosen one.\r\n                // On desktop, panels are single-view, so this is essentially a no-op.\r\n                panel.scrollIntoView({ behavior: 'smooth', block: 'nearest', inline: 'start' });\r\n\r\n                // Nudge the scroll container so keyboard users stay within the region.\r\n                if (panelsContainer && panelsContainer.contains(panel)) {\r\n                    panelsContainer.focus?.({ preventScroll: true });\r\n                }\r\n            }\r\n        }\r\n\r\n        if (id === COMPARE_PANEL_ID && isMobileOrTabletLayout()) {\r\n            // Wait a beat so scrollIntoView can complete, then lock the outer panels scroller.\r\n            compareUnlockTimer = window.setTimeout(() => {\r\n                setCompareActiveState(true);\r\n                compareUnlockTimer = null;\r\n            }, 700);\r\n        }\r\n    }\r\n\r\n    function syncFromHash() {\r\n        const hashId = (window.location.hash || '').replace('#', '').trim();\r\n        if (hashId && panelById.has(hashId)) {\r\n            setActive(hashId, { scrollIntoView: true });\r\n            return;\r\n        }\r\n        setActive(defaultId, { scrollIntoView: false });\r\n    }\r\n\r\n    const clickHandlers = new Map();\r\n    for (const link of links) {\r\n        const handler = (e) => {\r\n            e.preventDefault();\r\n            const id = getPanelIdFromLink(link);\r\n            if (!id) return;\r\n\r\n            // Update URL hash WITHOUT jumping the page.\r\n            const nextUrl = `${window.location.pathname}${window.location.search}#${id}`;\r\n            window.history.replaceState(null, '', nextUrl);\r\n\r\n            setActive(id, { scrollIntoView: true });\r\n        };\r\n\r\n        clickHandlers.set(link, handler);\r\n        link.addEventListener('click', handler);\r\n    }\r\n\r\n    const onHashChange = () => syncFromHash();\r\n    window.addEventListener('hashchange', onHashChange);\r\n\r\n    // Initial state\r\n    syncFromHash();\r\n\r\n    // Comparator: make horizontal scrolling discoverable/easy (mouse drag + table drag).\r\n    enhanceCompareHorizontalScroll();\r\n\r\n    // Keep the active tab in sync when the user scrolls panels manually (mobile/tablet)\r\n    if (panelsContainer && 'IntersectionObserver' in window) {\r\n        observer = new IntersectionObserver(\r\n            (entries) => {\r\n                if (isProgrammaticScroll) return;\r\n\r\n                // Pick the most visible intersecting panel\r\n                let best = null;\r\n                for (const entry of entries) {\r\n                    if (!entry.isIntersecting) continue;\r\n                    if (!best || entry.intersectionRatio > best.intersectionRatio) {\r\n                        best = entry;\r\n                    }\r\n                }\r\n\r\n                const panel = best?.target;\r\n                const id = panel?.id;\r\n                if (id && panelById.has(id)) {\r\n                    setActive(id, { scrollIntoView: false, updateHash: true });\r\n                }\r\n            },\r\n            {\r\n                root: panelsContainer,\r\n                threshold: [0.55, 0.7, 0.85]\r\n            }\r\n        );\r\n\r\n        for (const panel of panels) observer.observe(panel);\r\n    }\r\n\r\n    window.__servicesTechNavCleanup = () => {\r\n        window.removeEventListener('hashchange', onHashChange);\r\n        for (const [link, handler] of clickHandlers.entries()) {\r\n            link.removeEventListener('click', handler);\r\n        }\r\n\r\n        container.classList.remove('is-enhanced');\r\n        container.classList.remove(COMPARE_ACTIVE_CLASS);\r\n\r\n        for (const cleanup of dragScrollCleanups) {\r\n            try {\r\n                cleanup();\r\n            } catch {\r\n                // no-op\r\n            }\r\n        }\r\n        dragScrollCleanups = [];\r\n\r\n        if (observer) {\r\n            try {\r\n                observer.disconnect();\r\n            } catch {\r\n                // no-op\r\n            }\r\n            observer = null;\r\n        }\r\n\r\n        if (programmaticScrollTimer) {\r\n            window.clearTimeout(programmaticScrollTimer);\r\n            programmaticScrollTimer = null;\r\n        }\r\n\r\n        if (compareUnlockTimer) {\r\n            window.clearTimeout(compareUnlockTimer);\r\n            compareUnlockTimer = null;\r\n        }\r\n        delete window.__servicesTechNavCleanup;\r\n    };\r\n}\r\n","/**\r\n * Ultra-simple router - NO fetch, NO template loading\r\n * All templates are already in index.html as hidden sections (injected by webpack at build time)\r\n * Navigation = just show/hide with classList\r\n */\r\n\r\nimport { setPage } from '../core/state.js';\r\nimport { PAGES, PAGES_WITHOUT_FOOTER } from '../utils/constants.js';\r\nimport { cleanupHomeAnimations, startHomeSequence, initStatsAnimation } from './homeAnimations.js';\r\nimport { showNotification } from './notifications.js';\r\nimport { NOTIFICATION_TYPES } from '../utils/constants.js';\r\nimport { clearAllTimers } from '../utils/timing.js';\r\nimport { stopParticles, startParticles } from './particles.js';\r\nimport { initServicesTechNav } from './servicesTechNav.js';\r\nimport { initAboutEnhancements } from './aboutEnhancements.js';\r\n\r\nlet currentPage = 'home';\r\n\r\n/**\r\n * Navigate to a page by showing its section and hiding others\r\n * Templates are already in the DOM (injected by webpack at build time)\r\n * We just show/hide them\r\n */\r\nexport function navigateTo(page, event) {\r\n    if (event) {\r\n        event.preventDefault();\r\n    }\r\n\r\n    if (!page) page = 'home';\r\n\r\n    // Contact page restriction\r\n    if (page === PAGES.CONTACT && !window.__allowContact) {\r\n        showNotification('La seccin de Contacto slo se abre desde el contacto con un agente.', NOTIFICATION_TYPES.INFO);\r\n        return;\r\n    }\r\n\r\n    // Cleanup previous page\r\n    cleanupHomeAnimations();\r\n    clearAllTimers();\r\n\r\n    // Page-specific cleanup hooks (avoid duplicated listeners when revisiting pages)\r\n    try {\r\n        if (typeof window.__servicesTechNavCleanup === 'function') {\r\n            window.__servicesTechNavCleanup();\r\n        }\r\n        delete window.__servicesTechNavCleanup;\r\n\r\n        if (typeof window.__aboutEnhancementsCleanup === 'function') {\r\n            window.__aboutEnhancementsCleanup();\r\n        }\r\n        delete window.__aboutEnhancementsCleanup;\r\n    } catch (e) {\r\n        // Non-fatal\r\n        console.warn('[ROUTER] cleanup hook error', e);\r\n    }\r\n    setPage(page);\r\n\r\n    // Expose current page as an attribute for page-scoped CSS (e.g. home progress bar)\r\n    document.body.setAttribute('data-page', page);\r\n\r\n    // Close mobile menu\r\n    const navMenu = document.getElementById('navMenu');\r\n    if (navMenu) navMenu.classList.remove('active');\r\n\r\n    // Update nav links active state\r\n    document.querySelectorAll('.nav-link').forEach(link => {\r\n        link.classList.remove('active');\r\n        if (link.dataset.page === page) link.classList.add('active');\r\n    });\r\n\r\n    // Handle footer visibility\r\n    const footer = document.getElementById('footer');\r\n    if (footer) {\r\n        if (PAGES_WITHOUT_FOOTER.includes(page)) {\r\n            footer.classList.add('d-none');\r\n        } else {\r\n            footer.classList.remove('d-none');\r\n        }\r\n    }\r\n\r\n    // Hide all page sections\r\n    document.querySelectorAll('.page-section').forEach(section => {\r\n        section.classList.add('hidden');\r\n    });\r\n\r\n    // Show the requested page\r\n    const pageElement = document.getElementById(`page-${page}`);\r\n    if (pageElement) {\r\n        pageElement.classList.remove('hidden');\r\n        currentPage = page;\r\n    } else {\r\n        console.warn(`Page element with id \"page-${page}\" not found, falling back to home`);\r\n        document.getElementById('page-home').classList.remove('hidden');\r\n        currentPage = 'home';\r\n    }\r\n\r\n    // Control particles (keep UI-dense work areas distraction-free)\r\n    if (['services', 'about', 'contact', 'client-dashboard', 'agent-dashboard', 'admin-dashboard', 'login', 'agent-login'].includes(page)) {\r\n        stopParticles();\r\n    } else {\r\n        startParticles();\r\n    }\r\n\r\n    // Initialize page-specific features\r\n    if (page === PAGES.HOME) {\r\n        setTimeout(() => {\r\n            initStatsAnimation();\r\n            startHomeSequence();\r\n        }, 100);\r\n    }\r\n\r\n    if (page === PAGES.SERVICES || page === 'services') {\r\n        initServicesTechNav(pageElement || document);\r\n    }\r\n\r\n    if (page === PAGES.ABOUT || page === 'about') {\r\n        initAboutEnhancements(pageElement || document);\r\n    }\r\n\r\n    // Clear contact flag\r\n    if (page === PAGES.CONTACT) {\r\n        setTimeout(() => { window.__allowContact = false; }, 500);\r\n    }\r\n\r\n    // Scroll to top\r\n    window.scrollTo({ top: 0, behavior: 'smooth' });\r\n}\r\n\r\n/**\r\n * Toggle mobile menu\r\n */\r\nexport function toggleMobileMenu() {\r\n    const navMenu = document.getElementById('navMenu');\r\n    if (navMenu) {\r\n        navMenu.classList.toggle('active');\r\n    }\r\n}\r\n\r\n/**\r\n * Toggle footer\r\n */\r\nexport function toggleFooter() {\r\n    const footer = document.getElementById('footer');\r\n    const toggleText = document.getElementById('footer-toggle-text');\r\n    if (!footer) return;\r\n\r\n    if (footer.classList.contains('collapsed')) {\r\n        footer.classList.remove('collapsed');\r\n        if (toggleText) toggleText.textContent = 'Ocultar Informacin';\r\n    } else {\r\n        footer.classList.add('collapsed');\r\n        if (toggleText) toggleText.textContent = 'Mostrar Informacin';\r\n    }\r\n}\r\n\r\n/**\r\n * Dummy function (no longer needed, templates are already in DOM)\r\n */\r\nexport async function initializeTemplates() {\r\n    console.log('[ROUTER] Templates already injected in index.html by webpack');\r\n}\r\n\r\n/**\r\n * Get current page\r\n */\r\nexport function getCurrentPage() {\r\n    return currentPage;\r\n}\r\n\r\nexport default {\r\n    navigateTo,\r\n    toggleMobileMenu,\r\n    toggleFooter,\r\n    initializeTemplates,\r\n    getCurrentPage\r\n};\r\n","// Application Constants\r\n\r\n// Animation Timings\r\nexport const TIMING = {\r\n  HERO_DURATION: 6000,\r\n  PARADE_DURATION: 8000,\r\n  CTA_FADE_IN: 800,\r\n  BUTTON_DELAY: 400,\r\n  BUTTON_STAGGER: 150,\r\n  DROPLET_DURATION: 600,\r\n  NOTIFICATION_DURATION: 3000,\r\n  STATS_ANIMATION: 2000\r\n};\r\n\r\n// Page Routes\r\nexport const PAGES = {\r\n  HOME: 'home',\r\n  SERVICES: 'services',\r\n  ABOUT: 'about',\r\n  CONTACT: 'contact',\r\n  LOGIN: 'login',\r\n  AGENT_LOGIN: 'agent-login',\r\n  CLIENT_DASHBOARD: 'client-dashboard',\r\n  AGENT_DASHBOARD: 'agent-dashboard'\r\n};\r\n\r\n// Pages that hide footer\r\nexport const PAGES_WITHOUT_FOOTER = [\r\n  PAGES.LOGIN,\r\n  PAGES.AGENT_LOGIN,\r\n  PAGES.CLIENT_DASHBOARD,\r\n  PAGES.AGENT_DASHBOARD\r\n];\r\n\r\n// Demo Credentials\r\nexport const DEMO_CREDENTIALS = {\r\n  CLIENT: {\r\n    email: 'cliente@demo.com',\r\n    password: 'demo123'\r\n  },\r\n  AGENT: {\r\n    id: 'agente@demo.com',\r\n    password: 'agent123'\r\n  }\r\n};\r\n\r\n// Gradient Section Classes\r\nexport const GRADIENT_CLASSES = {\r\n  HERO: 'section-hero',\r\n  PARADE: 'section-parade',\r\n  CTA: 'section-cta'\r\n};\r\n\r\n// DOM Selectors\r\nexport const SELECTORS = {\r\n  NAV_MENU: '#navMenu',\r\n  FOOTER: '#footer',\r\n  MAIN_CONTENT: '#mainContent',\r\n  SUB_NAV: '#sub-nav',\r\n  PARTICLES_CANVAS: '#particles-canvas',\r\n  HERO_SECTION: '.hero-intro',\r\n  PARADE_SECTION: '.features-parade',\r\n  CTA_SECTION: '.final-cta',\r\n  SKIP_BUTTON: '.btn-home-start',\r\n  HOME_SECTIONS: '.home-section',\r\n  SUB_NAV_BUTTONS: '.sub-nav-btn',\r\n  STAT_NUMBERS: '.stat-number',\r\n  NAV_LINKS: '.nav-link'\r\n};\r\n\r\n// Notification Types\r\nexport const NOTIFICATION_TYPES = {\r\n  SUCCESS: 'success',\r\n  ERROR: 'error',\r\n  INFO: 'info',\r\n  WARNING: 'warning'\r\n};\r\n\r\n// Particles Configuration\r\nexport const PARTICLES_CONFIG = {\r\n  MAX_COUNT: 60,\r\n  MIN_SIZE: 2,\r\n  MAX_SIZE: 5,\r\n  // Velocidades reducidas para movimiento ms calmado\r\n  MIN_SPEED: 0.01,\r\n  MAX_SPEED: 0.06,\r\n  MIN_OPACITY: 0.25,\r\n  MAX_OPACITY: 0.6,\r\n  CONNECTION_DISTANCE: 120,\r\n  CONNECTION_OPACITY: 0.10,\r\n  DENSITY_FACTOR: 10000\r\n};\r\n","// DOM Utility Functions\r\n\r\n// Cache for frequently accessed elements\r\nconst domCache = new Map();\r\n\r\nexport function getElement(selector, useCache = true) {\r\n  if (useCache && domCache.has(selector)) {\r\n    return domCache.get(selector);\r\n  }\r\n\r\n  const element = document.querySelector(selector);\r\n  if (useCache && element) {\r\n    domCache.set(selector, element);\r\n  }\r\n\r\n  return element;\r\n}\r\n\r\nexport function getElements(selector) {\r\n  return document.querySelectorAll(selector);\r\n}\r\n\r\nexport function getElementById(id) {\r\n  return document.getElementById(id);\r\n}\r\n\r\nexport function clearCache() {\r\n  domCache.clear();\r\n}\r\n\r\nexport function addClass(element, className) {\r\n  if (element) element.classList.add(className);\r\n}\r\n\r\nexport function removeClass(element, className) {\r\n  if (element) element.classList.remove(className);\r\n}\r\n\r\nexport function toggleClass(element, className) {\r\n  if (element) element.classList.toggle(className);\r\n}\r\n\r\nexport function replaceClass(element, oldClass, newClass) {\r\n  if (element) {\r\n    element.classList.remove(oldClass);\r\n    element.classList.add(newClass);\r\n  }\r\n}\r\n\r\nexport function hasClass(element, className) {\r\n  return element ? element.classList.contains(className) : false;\r\n}\r\n\r\nexport function setStyle(element, property, value) {\r\n  if (element) element.style[property] = value;\r\n}\r\n\r\nexport function show(element) {\r\n  if (element) {\r\n    element.classList.remove('d-none');\r\n    element.style.display = 'block';\r\n  }\r\n}\r\n\r\nexport function hide(element) {\r\n  if (element) {\r\n    element.classList.add('d-none');\r\n    element.style.display = 'none';\r\n  }\r\n}\r\n\r\nexport function showFlex(element) {\r\n  if (element) {\r\n    element.classList.add('d-flex');\r\n    element.classList.remove('d-none');\r\n  }\r\n}\r\n\r\nexport function showInlineBlock(element) {\r\n  if (element) {\r\n    element.classList.add('d-inline-block');\r\n    element.classList.remove('d-none');\r\n  }\r\n}\r\n\r\nexport function showBlock(element) {\r\n  if (element) {\r\n    element.classList.add('d-block');\r\n    element.classList.remove('d-none');\r\n  }\r\n}\r\n\r\nexport function setHTML(element, html) {\r\n  if (element) element.innerHTML = html;\r\n}\r\n\r\nexport function createElement(tag, className = '', attributes = {}) {\r\n  const element = document.createElement(tag);\r\n  if (className) element.className = className;\r\n\r\n  Object.entries(attributes).forEach(([key, value]) => {\r\n    element.setAttribute(key, value);\r\n  });\r\n\r\n  return element;\r\n}\r\n","// Timing and Animation Control Utilities\r\n\r\nconst activeTimers = new Set();\r\nconst activeIntervals = new Set();\r\n\r\nexport function createTimer(callback, delay) {\r\n  const timerId = setTimeout(() => {\r\n    activeTimers.delete(timerId);\r\n    callback();\r\n  }, delay);\r\n  \r\n  activeTimers.add(timerId);\r\n  return timerId;\r\n}\r\n\r\nexport function createInterval(callback, delay) {\r\n  const intervalId = setInterval(callback, delay);\r\n  activeIntervals.add(intervalId);\r\n  return intervalId;\r\n}\r\n\r\nexport function clearTimer(timerId) {\r\n  clearTimeout(timerId);\r\n  activeTimers.delete(timerId);\r\n}\r\n\r\nexport function clearCustomInterval(intervalId) {\r\n  clearInterval(intervalId);\r\n  activeIntervals.delete(intervalId);\r\n}\r\n\r\nexport function clearAllTimers() {\r\n  activeTimers.forEach(timerId => clearTimeout(timerId));\r\n  activeTimers.clear();\r\n}\r\n\r\nexport function clearAllIntervals() {\r\n  activeIntervals.forEach(intervalId => clearInterval(intervalId));\r\n  activeIntervals.clear();\r\n}\r\n\r\nexport function clearAllTiming() {\r\n  clearAllTimers();\r\n  clearAllIntervals();\r\n}\r\n\r\nexport function delay(ms) {\r\n  return new Promise(resolve => {\r\n    const timerId = createTimer(resolve, ms);\r\n    return timerId;\r\n  });\r\n}\r\n\r\nexport function debounce(func, wait) {\r\n  let timeout;\r\n  return function executedFunction(...args) {\r\n    const later = () => {\r\n      clearTimeout(timeout);\r\n      func(...args);\r\n    };\r\n    clearTimeout(timeout);\r\n    timeout = setTimeout(later, wait);\r\n  };\r\n}\r\n\r\nexport function throttle(func, limit) {\r\n  let inThrottle;\r\n  return function executedFunction(...args) {\r\n    if (!inThrottle) {\r\n      func(...args);\r\n      inThrottle = true;\r\n      setTimeout(() => inThrottle = false, limit);\r\n    }\r\n  };\r\n}\r\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","// Main Application Entry Point\r\nimport { startParticles } from '../modules/particles.js';\r\nimport { navigateTo, toggleMobileMenu, toggleFooter, initializeTemplates } from '../modules/simpleRouter.js';\r\nimport { login, logout, checkAuth, getRedirectPage } from '../modules/auth.js';\r\nimport { showNotification } from '../modules/notifications.js';\r\nimport { skipToFinalState, showHomeSection } from '../modules/homeAnimations.js';\r\nimport { getUser } from './state.js';\r\nimport { showNotification as notify } from '../modules/notifications.js';\r\nimport { NOTIFICATION_TYPES } from '../utils/constants.js';\r\n\r\n// Expose handlers globally for onclick handlers in templates\r\nwindow.appHandlers = {\r\n  navigateTo,\r\n  toggleMobileMenu,\r\n  toggleFooter,\r\n  skipToFinalState,\r\n  showHomeSection,\r\n  handleClientLogin,\r\n  handleAgentLogin,\r\n  handleContactSubmit,\r\n  logout,\r\n  toggleTheme,\r\n  // Dashboard placeholders\r\n  viewPolicy,\r\n  makePayment,\r\n  fileClaim,\r\n  updateInfo,\r\n  contactAgent,\r\n  downloadPaymentHistory,\r\n  openQuoteModal,\r\n  addNewClient,\r\n  viewClientDetails,\r\n  editClient,\r\n  processQuote,\r\n  createQuote,\r\n  processRenewal,\r\n  viewReports,\r\n  completeTask,\r\n  viewCommissionDetails,\r\n  showAgentRegistration\r\n};\r\n\r\n// Also expose common helpers as globals for legacy inline onclicks\r\nwindow.navigateTo = navigateTo;\r\nwindow.toggleMobileMenu = toggleMobileMenu;\r\nwindow.toggleFooter = toggleFooter;\r\nwindow.handleContactSubmit = handleContactSubmit;\r\nwindow.handleClientLogin = handleClientLogin;\r\nwindow.handleAgentLogin = handleAgentLogin;\r\nwindow.contactAgent = contactAgent;\r\nwindow.toggleTheme = toggleTheme;\r\n// Expose notification helper for quick console testing / legacy inline calls\r\nwindow.showNotification = showNotification;\r\n\r\n// Form handlers\r\nfunction handleContactSubmit(e) {\r\n  e.preventDefault();\r\n  notify('Mensaje enviado exitosamente. Te contactaremos pronto.', NOTIFICATION_TYPES.SUCCESS);\r\n  e.target.reset();\r\n}\r\n\r\nfunction handleClientLogin(e) {\r\n  e.preventDefault();\r\n  const email = e.target[0].value;\r\n  const password = e.target[1].value;\r\n\r\n  const user = login({ email, password }, 'client');\r\n  if (user) {\r\n    navigateTo('client-dashboard');\r\n  }\r\n}\r\n\r\nfunction handleAgentLogin(e) {\r\n  e.preventDefault();\r\n  const agentId = e.target[0].value;\r\n  const password = e.target[1].value;\r\n\r\n  // Check if admin credentials\r\n  if (agentId === 'admin' && password === 'admin123') {\r\n    // Store admin session and redirect to admin page\r\n    localStorage.setItem('krause_admin', JSON.stringify({ name: 'Administrator', loggedAt: Date.now() }));\r\n    // Use a relative URL so it works both locally and under a subpath (e.g. /memo/ on GitHub Pages)\r\n    window.location.href = 'admin.html';\r\n    return;\r\n  }\r\n\r\n  // Normal agent login\r\n  const user = login({ agentId, password }, 'agent');\r\n  if (user) {\r\n    navigateTo('agent-dashboard');\r\n  }\r\n}\r\n\r\n// Dashboard placeholder functions\r\nfunction viewPolicy(policyId) {\r\n  notify(`Mostrando detalles de pliza ${policyId}`, NOTIFICATION_TYPES.INFO);\r\n}\r\n\r\nfunction makePayment() {\r\n  notify('Redirigiendo a pasarela de pago...', NOTIFICATION_TYPES.INFO);\r\n}\r\n\r\nfunction fileClaim() {\r\n  notify('Abriendo formulario de siniestros...', NOTIFICATION_TYPES.INFO);\r\n}\r\n\r\nfunction updateInfo() {\r\n  notify('Abriendo formulario de actualizacin...', NOTIFICATION_TYPES.INFO);\r\n}\r\n\r\nfunction contactAgent() {\r\n  // Allow navigation to contact page when triggered from an agent action\r\n  window.__allowContact = true;\r\n  notify('Abriendo chat con agente...', NOTIFICATION_TYPES.INFO);\r\n  navigateTo('contact');\r\n  // Clear temporary flag shortly after navigation\r\n  setTimeout(() => { window.__allowContact = false; }, 500);\r\n}\r\n\r\nfunction downloadPaymentHistory() {\r\n  notify('Descargando historial...', NOTIFICATION_TYPES.INFO);\r\n}\r\n\r\nfunction openQuoteModal(type) {\r\n  notify(`Abriendo cotizacin para seguro de ${type}`, NOTIFICATION_TYPES.INFO);\r\n}\r\n\r\nfunction addNewClient() {\r\n  notify('Abriendo formulario de nuevo cliente...', NOTIFICATION_TYPES.INFO);\r\n}\r\n\r\nfunction viewClientDetails(clientId) {\r\n  notify(`Mostrando detalles del cliente ${clientId}`, NOTIFICATION_TYPES.INFO);\r\n}\r\n\r\nfunction editClient(clientId) {\r\n  notify(`Editando cliente ${clientId}`, NOTIFICATION_TYPES.INFO);\r\n}\r\n\r\nfunction processQuote(quoteId) {\r\n  notify(`Procesando cotizacin ${quoteId}`, NOTIFICATION_TYPES.INFO);\r\n}\r\n\r\nfunction createQuote() {\r\n  notify('Creando nueva cotizacin...', NOTIFICATION_TYPES.INFO);\r\n}\r\n\r\nfunction processRenewal() {\r\n  notify('Abriendo renovaciones pendientes...', NOTIFICATION_TYPES.INFO);\r\n}\r\n\r\nfunction viewReports() {\r\n  notify('Generando reportes...', NOTIFICATION_TYPES.INFO);\r\n}\r\n\r\nfunction completeTask(taskId) {\r\n  notify('Tarea completada', NOTIFICATION_TYPES.SUCCESS);\r\n}\r\n\r\nfunction viewCommissionDetails() {\r\n  notify('Mostrando detalle de comisiones...', NOTIFICATION_TYPES.INFO);\r\n}\r\n\r\nfunction showAgentRegistration() {\r\n  notify('Contacta al administrador para solicitar acceso como agente', NOTIFICATION_TYPES.INFO);\r\n}\r\n\r\n// Theme helpers (global toggle separate from any contact-card toggle)\r\nfunction applyTheme(theme) {\r\n  try {\r\n    const root = document.documentElement;\r\n    if (theme === 'dark-forest') {\r\n      root.setAttribute('data-theme', 'dark-forest');\r\n      localStorage.setItem('krause_theme', 'dark-forest');\r\n    } else if (theme === 'dark') {\r\n      root.setAttribute('data-theme', 'dark');\r\n      localStorage.setItem('krause_theme', 'dark');\r\n    } else {\r\n      root.removeAttribute('data-theme');\r\n      localStorage.removeItem('krause_theme');\r\n    }\r\n  } catch (e) {\r\n    console.warn('applyTheme error', e);\r\n  }\r\n}\r\n\r\nfunction toggleTheme() {\r\n  const root = document.documentElement;\r\n  const current = root.getAttribute('data-theme');\r\n  // Toggle the 'dark-forest' theme specifically (secondary theme requested)\r\n  if (current === 'dark-forest') {\r\n    applyTheme('light');\r\n  } else {\r\n    applyTheme('dark-forest');\r\n  }\r\n}\r\n\r\n// Initialize app\r\ndocument.addEventListener('DOMContentLoaded', () => {\r\n  // If a service worker was registered in a previous session, it can keep serving stale HTML/CSS.\r\n  // Since SW registration is intentionally disabled during testing, proactively unregister it on localhost.\r\n  try {\r\n    const isLocalhost = ['localhost', '127.0.0.1'].includes(window.location.hostname);\r\n    if (isLocalhost && 'serviceWorker' in navigator) {\r\n      navigator.serviceWorker.getRegistrations()\r\n        .then(regs => Promise.all(regs.map(r => r.unregister())))\r\n        .catch(() => undefined);\r\n    }\r\n  } catch (e) {\r\n    // Non-fatal\r\n  }\r\n\r\n  // Apply light theme by default (restore from localStorage if saved)\r\n  const savedTheme = localStorage.getItem('krause_theme');\r\n  applyTheme(savedTheme || 'light');\r\n\r\n  // Check authentication and navigate (this will start particles)\r\n  if (checkAuth()) {\r\n    const user = getUser();\r\n    const redirectPage = getRedirectPage(user);\r\n    navigateTo(redirectPage);\r\n  } else {\r\n    navigateTo('home');\r\n  }\r\n\r\n  console.log(' Krause Insurance App cargada correctamente (Modular)');\r\n  // Service worker disabled during testing\r\n  // if ('serviceWorker' in navigator) {\r\n  //   window.addEventListener('load', () => {\r\n  //     navigator.serviceWorker.register('/service-worker.js')\r\n  //       .then(reg => console.log('ServiceWorker registered with scope:', reg.scope))\r\n  //       .catch(err => console.warn('ServiceWorker registration failed:', err));\r\n  //   });\r\n  // }\r\n});\r\n"],"names":["state","currentUser","currentPage","setUser","user","localStorage","setItem","JSON","stringify","removeItem","getUser","stored","getItem","parse","setPage","page","getPage","clearState","prefersReducedMotion","_window$matchMedia","_window","window","matchMedia","call","matches","_unused","clamp","n","min","max","Math","easeOutCubic","t","pow","formatCompactInt","String","round","animateNumber","el","target","_ref","arguments","length","undefined","_ref$durationMs","durationMs","_ref$suffix","suffix","start","startTs","performance","now","tick","eased","value","textContent","concat","requestAnimationFrame","initAboutEnhancements","_root$querySelector","root","document","container","querySelector","__aboutEnhancementsCleanup","_unused2","cleanups","countEls","Array","from","querySelectorAll","reduced","_i","_countEls","getAttribute","countersObserver","counted","WeakSet","IntersectionObserver","entries","_iterator","_createForOfIteratorHelper","_step","s","done","entry","isIntersecting","has","rawTarget","Number","isFinite","add","err","e","f","threshold","_iterator2","_step2","observe","_iterator3","_step3","coreRail","coreActiveIndex","isEditableTarget","nodeType","isContentEditable","tag","tagName","toLowerCase","getCorePanels","children","filter","getLeftWithinScroller","scroller","node","scrollerRect","getBoundingClientRect","nodeRect","left","scrollLeft","computeCoreActiveFromScroll","panels","x","bestIndex","bestDist","Infinity","i","d","abs","scrollCoreTo","index","_ref2","_ref2$behavior","behavior","safeIndex","scrollTo","onCoreScroll","addEventListener","passive","push","removeEventListener","onCoreKeyDown","key","closest","preventDefault","delta","next","slider","track","dotEls","rail","railActiveIndex","getRailPanels","getRailPanelLeft","panel","railRect","panelRect","computeRailActiveFromScroll","scrollRailTo","_ref3","_ref3$behavior","autoTimer","activeIndex","getSlides","setActiveSlideClass","slides","classList","remove","setActiveDot","_iterator4","_step4","dot","scrollToSlide","_ref4","_ref4$behavior","slide","offsetLeft","computeActiveFromScroll","startAutoAdvance","stopAutoAdvance","setInterval","clearInterval","_iterator5","_step5","_loop","handler","idx","onScroll","onKeyDown","onEnter","onLeave","resizeObserver","ResizeObserver","disconnect","_unused3","onRailScroll","onRailKeyDown","_i2","_cleanups","fn","_unused4","_unused5","DEMO_CREDENTIALS","PAGES","NOTIFICATION_TYPES","showNotification","checkAuth","login","credentials","type","validateClientLogin","validateAgentLogin","SUCCESS","ERROR","logout","email","password","CLIENT","name","agentId","AGENT","id","getRedirectPage","HOME","CLIENT_DASHBOARD","AGENT_DASHBOARD","TIMING","GRADIENT_CLASSES","SELECTORS","getElement","getElements","addClass","removeClass","replaceClass","setStyle","createTimer","clearAllTimers","DEBUG","debugLog","_console","console","log","apply","domCache","hero","parade","cta","subNav","skipBtn","initDOMCache","HERO_SECTION","PARADE_SECTION","CTA_SECTION","SUB_NAV","SKIP_BUTTON","progress","showButtonWithDroplet","selector","delay","_domCache$subNav","btn","DROPLET_DURATION","setProgress","percent","easing","defer","p","setActiveSubNav","sectionKey","buttons","SUB_NAV_BUTTONS","forEach","dataset","section","cleanupHomeAnimations","Object","keys","startHomeSequence","error","allSections","HOME_SECTIONS","body","PARADE","CTA","HERO","allButtons","HERO_DURATION","className","BUTTON_DELAY","PARADE_DURATION","CTA_FADE_IN","skipToFinalState","BUTTON_STAGGER","showHomeSection","sectionMap","eleccion","cotiza","sec","targetSection","initStatsAnimation","mapping","pct","statNumbers","STAT_NUMBERS","stat","parseInt","animateCounter","element","duration","STATS_ANIMATION","startTime","Date","update","easeOut","currentValue","floor","createElement","WRAPPER_ID","ensureWrapper","wrapper","getElementById","appendChild","hideAndRemove","notification","__removing","onTransitionEnd","parentElement","removeChild","setTimeout","message","INFO","options","_options$duration","NOTIFICATION_DURATION","_options$dismissible","dismissible","content","setAttribute","innerHTML","tid","__timeout","clearNotifications","PARTICLES_CONFIG","canvas","ctx","particles","animationFrameId","canvasWidth","canvasHeight","dpr","themeObserver","activeThemeKey","activeProfile","activePalette","rand","random","parseCssColorToRgb","color","r","g","b","c","trim","startsWith","hex","slice","m","match","parts","split","map","parseFloat","every","v","rgba","rgb","a","alpha","getThemeKey","theme","documentElement","readCssVar","fallback","getComputedStyle","getPropertyValue","out","buildPalette","themeKey","text","accent","glow","warm","core","halo","line","ink","soft","getProfile","style","maxCount","densityFactor","minSize","maxSize","minSpeed","maxSpeed","minOpacity","maxOpacity","twinkleMin","twinkleMax","glowRadiusMin","glowRadiusMax","composite","connections","enabled","MAX_COUNT","distance","baseOpacity","lineWidth","Particle","width","height","profile","_classCallCheck","y","baseSize","size","speed","angle","PI","vx","cos","vy","sin","opacity","twinklePhase","twinkleSpeed","driftPhase","driftSpeed","driftStrength","_createClass","sqrt","margin","tw","draw","palette","glowR","createRadialGradient","addColorStop","fillStyle","beginPath","arc","fill","grad","connectParticles","conn","maxD","j","dx","dy","strokeStyle","moveTo","lineTo","stroke","resizeCanvas","innerWidth","innerHeight","devicePixelRatio","setTransform","applyThemeProfile","force","particleCount","watchThemeChanges","MutationObserver","attributes","attributeFilter","unwatchThemeChanges","initParticles","PARTICLES_CANVAS","getContext","animateParticles","globalCompositeOperation","clearRect","particle","startParticles","stopParticles","cancelAnimationFrame","getPanelIdFromLink","link","_link$getAttribute","href","initServicesTechNav","__servicesTechNavCleanup","links","panelsContainer","panelById","Map","defaultId","isDesktopLayout","isProgrammaticScroll","programmaticScrollTimer","observer","compareUnlockTimer","dragScrollCleanups","COMPARE_PANEL_ID","COMPARE_ACTIVE_CLASS","isMobileOrTabletLayout","setCompareActiveState","isActive","enableDragToScrollX","_el$dataset","_ref$ignoreSelector","ignoreSelector","dragScrollX","isDragging","startX","startScrollLeft","activePointerId","onPointerDown","_e$target","_e$target$closest","pointerType","button","scrollWidth","clientWidth","pointerId","clientX","_el$setPointerCapture","setPointerCapture","onPointerMove","stopDrag","enhanceCompareHorizontalScroll","_container$querySelec","compareGrid","hasAttribute","tabIndex","tableWrappers","_tableWrappers","w","markProgrammaticScroll","ms","clearTimeout","setActive","_ref2$scrollIntoView","scrollIntoView","_ref2$updateHash","updateHash","linkId","currentHashId","location","hash","replace","nextUrl","pathname","search","history","replaceState","get","block","inline","contains","_panelsContainer$focu","focus","preventScroll","syncFromHash","hashId","clickHandlers","_links","set","onHashChange","_best","best","intersectionRatio","_step5$value","_slicedToArray","_i3","_dragScrollCleanups","cleanup","_unused6","Symbol","iterator","o","toStringTag","prototype","Generator","u","create","_regeneratorDefine2","G","bind","l","TypeError","GeneratorFunction","GeneratorFunctionPrototype","getPrototypeOf","setPrototypeOf","__proto__","displayName","_regenerator","defineProperty","_regeneratorDefine","_invoke","enumerable","configurable","writable","asyncGeneratorStep","Promise","resolve","then","_asyncToGenerator","_next","_throw","PAGES_WITHOUT_FOOTER","navigateTo","event","CONTACT","__allowContact","warn","navMenu","footer","includes","pageElement","SERVICES","ABOUT","top","toggleMobileMenu","toggle","toggleFooter","toggleText","initializeTemplates","_initializeTemplates","_callee","_context","getCurrentPage","LOGIN","AGENT_LOGIN","NAV_MENU","FOOTER","MAIN_CONTENT","NAV_LINKS","WARNING","MIN_SIZE","MAX_SIZE","MIN_SPEED","MAX_SPEED","MIN_OPACITY","MAX_OPACITY","CONNECTION_DISTANCE","CONNECTION_OPACITY","DENSITY_FACTOR","useCache","clearCache","clear","toggleClass","oldClass","newClass","hasClass","property","show","display","hide","showFlex","showInlineBlock","showBlock","setHTML","html","activeTimers","Set","activeIntervals","callback","timerId","createInterval","intervalId","clearTimer","clearCustomInterval","clearAllIntervals","clearAllTiming","debounce","func","wait","timeout","executedFunction","_len","args","_key","later","throttle","limit","inThrottle","notify","appHandlers","handleClientLogin","handleAgentLogin","handleContactSubmit","toggleTheme","viewPolicy","makePayment","fileClaim","updateInfo","contactAgent","downloadPaymentHistory","openQuoteModal","addNewClient","viewClientDetails","editClient","processQuote","createQuote","processRenewal","viewReports","completeTask","viewCommissionDetails","showAgentRegistration","reset","loggedAt","policyId","clientId","quoteId","taskId","applyTheme","removeAttribute","current","isLocalhost","hostname","navigator","serviceWorker","getRegistrations","regs","all","unregister","savedTheme","redirectPage"],"sourceRoot":""}