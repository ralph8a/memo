{"version":3,"file":"src_modules_agentDashboardComponents_js.krause.app.js","mappings":"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","sources":["webpack://react-app/./src/modules/agentDashboardComponents.js"],"sourcesContent":["/**\r\n * Agent Dashboard Components\r\n * Componentes espec铆ficos para el portal del agente\r\n */\r\n\r\nimport { apiService, API_CONFIG } from '../api-integration.js';\r\n\r\n/**\r\n * Panel de Calendario de Pagos del Agente\r\n * Muestra todos los pagos de sus clientes con filtros\r\n */\r\nexport class AgentPaymentSchedulePanel {\r\n    constructor(containerId, options = {}) {\r\n        this.container = document.getElementById(containerId);\r\n        this.filteredClientId = options.clientId || null;\r\n        this.viewMode = options.viewMode || 'all'; // 'all', 'pending', 'overdue'\r\n    }\r\n\r\n    async render() {\r\n        if (!this.container) {\r\n            console.warn('Agent payment schedule container not found');\r\n            return;\r\n        }\r\n\r\n        try {\r\n            // Usar apiService para obtener pagos\r\n            const data = await apiService.request('?action=agent_payments', {\r\n                method: 'GET'\r\n            });\r\n\r\n            let payments = data.payments || data || [];\r\n\r\n            // Filtrar por cliente si est谩 especificado\r\n            if (this.filteredClientId) {\r\n                payments = payments.filter(p => p.client_id === this.filteredClientId);\r\n            }\r\n\r\n            // Filtrar por modo de vista\r\n            if (this.viewMode === 'pending') {\r\n                payments = payments.filter(p => p.status === 'pending');\r\n            } else if (this.viewMode === 'overdue') {\r\n                payments = payments.filter(p => p.status === 'overdue');\r\n            }\r\n\r\n            this.container.innerHTML = `\r\n                <div class=\"agent-payment-panel\">\r\n                    <div class=\"panel-header\">\r\n                        <h3>\r\n                            <svg width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\">\r\n                                <rect x=\"2\" y=\"5\" width=\"20\" height=\"14\" rx=\"2\" />\r\n                                <line x1=\"2\" y1=\"10\" x2=\"22\" y2=\"10\" />\r\n                            </svg>\r\n                            Calendario de Pagos ${this.filteredClientId ? '- Cliente Filtrado' : ''}\r\n                        </h3>\r\n                        <div class=\"panel-filters\">\r\n                            <button class=\"filter-btn ${this.viewMode === 'all' ? 'active' : ''}\" \r\n                                    onclick=\"window.agentDashboard?.setPaymentView('all')\">\r\n                                Todos (${payments.length})\r\n                            </button>\r\n                            <button class=\"filter-btn ${this.viewMode === 'pending' ? 'active' : ''}\" \r\n                                    onclick=\"window.agentDashboard?.setPaymentView('pending')\">\r\n                                Pendientes (${payments.filter(p => p.status === 'pending').length})\r\n                            </button>\r\n                            <button class=\"filter-btn ${this.viewMode === 'overdue' ? 'active' : ''}\" \r\n                                    onclick=\"window.agentDashboard?.setPaymentView('overdue')\">\r\n                                Vencidos (${payments.filter(p => p.status === 'overdue').length})\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"panel-body\">\r\n                        ${payments.length > 0 ? `\r\n                            <div class=\"payment-table modern-table\">\r\n                                <table>\r\n                                    <thead>\r\n                                        <tr>\r\n                                            <th>Cliente</th>\r\n                                            <th>P贸liza</th>\r\n                                            <th>Monto</th>\r\n                                            <th>Vence</th>\r\n                                            <th>Estado</th>\r\n                                            <th></th>\r\n                                        </tr>\r\n                                    </thead>\r\n                                    <tbody>\r\n                                        ${payments.map(p => this.renderPaymentRow(p)).join('')}\r\n                                    </tbody>\r\n                                </table>\r\n                            </div>\r\n                        ` : `\r\n                            <div class=\"empty-state\">\r\n                                <svg width=\"48\" height=\"48\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"1\">\r\n                                    <rect x=\"2\" y=\"5\" width=\"20\" height=\"14\" rx=\"2\" />\r\n                                    <line x1=\"2\" y1=\"10\" x2=\"22\" y2=\"10\" />\r\n                                </svg>\r\n                                <p>No hay pagos ${this.viewMode !== 'all' ? this.viewMode === 'pending' ? 'pendientes' : 'vencidos' : ''}</p>\r\n                            </div>\r\n                        `}\r\n                    </div>\r\n                </div>\r\n            `;\r\n\r\n        } catch (error) {\r\n            console.error('Error rendering agent payments:', error);\r\n            this.container.innerHTML = `\r\n                <div class=\"error-state\">\r\n                    <p>Error al cargar pagos: ${error.message}</p>\r\n                </div>\r\n            `;\r\n        }\r\n    }\r\n\r\n    renderPaymentRow(payment) {\r\n        const statusClass = this.getStatusClass(payment.status);\r\n        const daysUntilDue = Math.ceil((new Date(payment.due_date) - new Date()) / (1000 * 60 * 60 * 24));\r\n        const urgencyClass = daysUntilDue < 0 ? 'urgent' : daysUntilDue <= 3 ? 'warning' : '';\r\n\r\n        const shortName = payment.client_name?.split(' ').slice(0, 2).join(' ') || 'N/A';\r\n\r\n        return `\r\n            <tr class=\"${urgencyClass}\">\r\n                <td>\r\n                    <div class=\"client-info\">\r\n                        <strong>${shortName}</strong>\r\n                    </div>\r\n                </td>\r\n                <td><span class=\"policy-num\">${payment.policy_number}</span></td>\r\n                <td class=\"amount\">$${parseFloat(payment.amount).toFixed(2)}</td>\r\n                <td>\r\n                    <div class=\"due-date ${urgencyClass}\">\r\n                        ${this.formatShortDate(payment.due_date)}\r\n                        ${daysUntilDue < 0 ? `<small class=\"text-danger\">-${Math.abs(daysUntilDue)}d</small>` :\r\n                daysUntilDue <= 3 ? `<small class=\"text-warning\">${daysUntilDue}d</small>` : ''}\r\n                    </div>\r\n                </td>\r\n                <td><span class=\"status-badge ${statusClass}\">${this.getStatusText(payment.status)}</span></td>\r\n                <td>\r\n                    <div class=\"action-buttons\">\r\n                        ${payment.proof_id ? `\r\n                            <button class=\"btn-icon\" title=\"Revisar comprobante\"\r\n                                    onclick=\"window.agentDashboard.paymentSchedule?.reviewReceipt('${payment.proof_id}', '${payment.id}')\">\r\n                                <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\">\r\n                                    <path d=\"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z\"/>\r\n                                    <polyline points=\"14 2 14 8 20 8\"/>\r\n                                    <path d=\"M16 13l-4 4-2-2\"/>\r\n                                </svg>\r\n                            </button>\r\n                        ` : ''}\r\n                        <button class=\"btn-icon\" title=\"Ver P贸liza\"\r\n                                onclick=\"window.openPolicyModal?.('${payment.policy_id}')\">\r\n                            <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\">\r\n                                <path d=\"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z\"/>\r\n                                <polyline points=\"14 2 14 8 20 8\"/>\r\n                                <path d=\"M9 15h6\"/>\r\n                                <path d=\"M9 11h6\"/>\r\n                            </svg>\r\n                        </button>\r\n                    </div>\r\n                </td>\r\n            </tr>\r\n        `;\r\n    }\r\n\r\n    getStatusClass(status) {\r\n        const classes = {\r\n            'paid': 'success',\r\n            'pending': 'warning',\r\n            'overdue': 'danger',\r\n            'cancelled': 'neutral'\r\n        };\r\n        return classes[status] || 'neutral';\r\n    }\r\n\r\n    getStatusText(status) {\r\n        const texts = {\r\n            'paid': 'Pagado',\r\n            'pending': 'Pendiente',\r\n            'overdue': 'Vencido',\r\n            'cancelled': 'Cancelado'\r\n        };\r\n        return texts[status] || status;\r\n    }\r\n\r\n    formatDate(dateString) {\r\n        const date = new Date(dateString);\r\n        return date.toLocaleDateString('es-ES', { day: 'numeric', month: 'short', year: 'numeric' });\r\n    }\r\n\r\n    formatShortDate(dateString) {\r\n        const date = new Date(dateString);\r\n        return date.toLocaleDateString('es-ES', { day: 'numeric', month: 'short' });\r\n    }\r\n\r\n    reviewReceipt(proofId, paymentId) {\r\n        const modal = document.createElement('div');\r\n        modal.className = 'modal-overlay active';\r\n        modal.innerHTML = `\r\n            <div class=\"modal-content\" style=\"max-width: 600px;\">\r\n                <div class=\"modal-header\">\r\n                    <h2>Revisar Comprobante de Pago</h2>\r\n                    <button class=\"modal-close\" onclick=\"this.closest('.modal-overlay').remove()\"></button>\r\n                </div>\r\n                <div class=\"modal-body\">\r\n                    <div class=\"receipt-preview\">\r\n                        <div class=\"receipt-image-placeholder\" style=\"text-align: center; padding: 2rem; background: #f8f9fa; border-radius: 8px; margin-bottom: 1rem;\">\r\n                            <svg width=\"48\" height=\"48\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" style=\"margin: 0 auto; color: #666;\">\r\n                                <rect x=\"3\" y=\"3\" width=\"18\" height=\"18\" rx=\"2\" ry=\"2\"/>\r\n                                <circle cx=\"8.5\" cy=\"8.5\" r=\"1.5\"/>\r\n                                <polyline points=\"21 15 16 10 5 21\"/>\r\n                            </svg>\r\n                            <p style=\"margin-top: 1rem; color: #666;\">Comprobante ID: ${proofId}</p>\r\n                        </div>\r\n                        <div class=\"receipt-details\" style=\"display: grid; grid-template-columns: 1fr 1fr; gap: 1rem; margin-bottom: 1rem;\">\r\n                            <div class=\"detail-group\">\r\n                                <label>ID de Pago</label>\r\n                                <p>${paymentId}</p>\r\n                            </div>\r\n                            <div class=\"detail-group\">\r\n                                <label>Estado Actual</label>\r\n                                <p><span class=\"badge badge-warning\">Pendiente de Revisi贸n</span></p>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"form-group\">\r\n                        <label for=\"receipt-notes\">Notas de Revisi贸n (Opcional)</label>\r\n                        <textarea id=\"receipt-notes\" rows=\"3\" placeholder=\"Agrega comentarios sobre este comprobante...\"></textarea>\r\n                    </div>\r\n                </div>\r\n                <div class=\"modal-footer\" style=\"display: flex; gap: 12px; justify-content: flex-end; padding: 16px 24px; border-top: 1px solid #e5e5e5;\">\r\n                    <button class=\"btn btn-outline\" onclick=\"this.closest('.modal-overlay').remove()\">Cancelar</button>\r\n                    <button class=\"btn btn-danger\" onclick=\"window.agentDashboard.paymentSchedule?.rejectReceipt('${proofId}', '${paymentId}')\">\r\n                        Rechazar\r\n                    </button>\r\n                    <button class=\"btn btn-success\" onclick=\"window.agentDashboard.paymentSchedule?.approveReceipt('${proofId}', '${paymentId}')\">\r\n                        Aprobar\r\n                    </button>\r\n                </div>\r\n            </div>\r\n        `;\r\n        document.body.appendChild(modal);\r\n    }\r\n\r\n    approveReceipt(proofId, paymentId) {\r\n        const notes = document.getElementById('receipt-notes')?.value || '';\r\n        console.log('Approving receipt:', proofId, paymentId, notes);\r\n        showNotification('Comprobante aprobado exitosamente', NOTIFICATION_TYPES.SUCCESS);\r\n        document.querySelector('.modal-overlay')?.remove();\r\n        this.loadPaymentSchedule();\r\n    }\r\n\r\n    rejectReceipt(proofId, paymentId) {\r\n        const notes = document.getElementById('receipt-notes')?.value || '';\r\n        console.log('Rejecting receipt:', proofId, paymentId, notes);\r\n        showNotification('Comprobante rechazado', NOTIFICATION_TYPES.INFO);\r\n        document.querySelector('.modal-overlay')?.remove();\r\n        this.loadPaymentSchedule();\r\n    }\r\n}\r\n\r\n/**\r\n * Panel de P贸lizas del Agente\r\n * Lista todas las p贸lizas de sus clientes\r\n */\r\nexport class AgentPoliciesPanel {\r\n    constructor(containerId, options = {}) {\r\n        this.container = document.getElementById(containerId);\r\n        this.filteredClientId = options.clientId || null;\r\n        this.viewMode = options.viewMode || 'all'; // 'all', 'active', 'expiring'\r\n    }\r\n\r\n    async render() {\r\n        if (!this.container) {\r\n            console.warn('Agent policies container not found');\r\n            return;\r\n        }\r\n\r\n        try {\r\n            // Usar apiService para obtener datos del dashboard del agente\r\n            const { apiService } = await import('../api-integration.js');\r\n            const dashboardData = await apiService.request('?action=agent_dashboard', {\r\n                method: 'GET'\r\n            });\r\n\r\n            let policies = dashboardData.clients?.flatMap(c => c.policies || []) || [];\r\n\r\n            // Filtrar por cliente si est谩 especificado\r\n            if (this.filteredClientId) {\r\n                policies = policies.filter(p => p.client_id === this.filteredClientId);\r\n            }\r\n\r\n            // Filtrar por modo de vista\r\n            if (this.viewMode === 'active') {\r\n                policies = policies.filter(p => p.status === 'active');\r\n            } else if (this.viewMode === 'expiring') {\r\n                const now = new Date();\r\n                const thirtyDaysFromNow = new Date(now.getTime() + (30 * 24 * 60 * 60 * 1000));\r\n                policies = policies.filter(p => {\r\n                    const renewalDate = new Date(p.renewal_date);\r\n                    return renewalDate <= thirtyDaysFromNow && renewalDate > now;\r\n                });\r\n            }\r\n\r\n            this.container.innerHTML = `\r\n                <div class=\"agent-policies-panel\">\r\n                    <div class=\"panel-header\">\r\n                        <h3>\r\n                            <svg width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\">\r\n                                <path d=\"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z\"/>\r\n                                <polyline points=\"14 2 14 8 20 8\"/>\r\n                            </svg>\r\n                            P贸lizas ${this.filteredClientId ? '- Cliente Filtrado' : ''}\r\n                        </h3>\r\n                        <div class=\"panel-filters\">\r\n                            <button class=\"filter-btn ${this.viewMode === 'all' ? 'active' : ''}\" \r\n                                    onclick=\"window.agentDashboard?.setPoliciesView('all')\">\r\n                                Todas (${policies.length})\r\n                            </button>\r\n                            <button class=\"filter-btn ${this.viewMode === 'active' ? 'active' : ''}\" \r\n                                    onclick=\"window.agentDashboard?.setPoliciesView('active')\">\r\n                                Activas (${policies.filter(p => p.status === 'active').length})\r\n                            </button>\r\n                            <button class=\"filter-btn ${this.viewMode === 'expiring' ? 'active' : ''}\" \r\n                                    onclick=\"window.agentDashboard?.setPoliciesView('expiring')\">\r\n                                Por vencer (${this.getExpiringCount(policies)})\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"panel-body\">\r\n                        ${policies.length > 0 ? `\r\n                            <div class=\"policy-table modern-table\">\r\n                                <table>\r\n                                    <thead>\r\n                                        <tr>\r\n                                            <th>P贸liza</th>\r\n                                            <th>Tipo</th>\r\n                                            <th>Cliente</th>\r\n                                            <th>Prima</th>\r\n                                            <th>Renovaci贸n</th>\r\n                                            <th>Estado</th>\r\n                                            <th>Acciones</th>\r\n                                        </tr>\r\n                                    </thead>\r\n                                    <tbody>\r\n                                        ${policies.map(p => this.renderPolicyRow(p)).join('')}\r\n                                    </tbody>\r\n                                </table>\r\n                            </div>\r\n                        ` : `\r\n                            <div class=\"empty-state\">\r\n                                <svg width=\"48\" height=\"48\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"1\">\r\n                                    <path d=\"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z\"/>\r\n                                    <polyline points=\"14 2 14 8 20 8\"/>\r\n                                </svg>\r\n                                <p>No hay p贸lizas</p>\r\n                            </div>\r\n                        `}\r\n                    </div>\r\n                </div>\r\n            `;\r\n\r\n        } catch (error) {\r\n            console.error('Error rendering agent policies:', error);\r\n            this.container.innerHTML = `\r\n                <div class=\"error-state\">\r\n                    <p>Error al cargar p贸lizas: ${error.message}</p>\r\n                </div>\r\n            `;\r\n        }\r\n    }\r\n\r\n    renderPolicyRow(policy) {\r\n        const statusClass = policy.status === 'active' ? 'success' : policy.status === 'expired' ? 'danger' : 'neutral';\r\n        const daysUntilRenewal = Math.ceil((new Date(policy.renewal_date) - new Date()) / (1000 * 60 * 60 * 24));\r\n\r\n        return `\r\n            <tr>\r\n                <td><strong>${policy.policy_number}</strong></td>\r\n                <td>${this.getPolicyTypeLabel(policy.policy_type)}</td>\r\n                <td>${policy.client_name || 'N/A'}</td>\r\n                <td>$${parseFloat(policy.premium_amount || 0).toFixed(2)}</td>\r\n                <td>\r\n                    ${this.formatDate(policy.renewal_date)}\r\n                    ${daysUntilRenewal <= 30 && daysUntilRenewal > 0 ? `<br><small class=\"text-warning\">${daysUntilRenewal} d铆as</small>` : ''}\r\n                </td>\r\n                <td><span class=\"status-badge ${statusClass}\">${policy.status}</span></td>\r\n                <td>\r\n                    <div class=\"action-buttons\">\r\n                        <button class=\"btn-icon\" title=\"Ver detalles\" \r\n                                onclick=\"window.openPolicyModal?.('${policy.id}')\">\r\n                            <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\">\r\n                                <path d=\"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z\"/>\r\n                                <circle cx=\"12\" cy=\"12\" r=\"3\"/>\r\n                            </svg>\r\n                        </button>\r\n                    </div>\r\n                </td>\r\n            </tr>\r\n        `;\r\n    }\r\n\r\n    renderPolicyCard(policy) {\r\n        const statusClass = policy.status === 'active' ? 'success' : policy.status === 'expired' ? 'danger' : 'neutral';\r\n        const daysUntilRenewal = Math.ceil((new Date(policy.renewal_date) - new Date()) / (1000 * 60 * 60 * 24));\r\n\r\n        return `\r\n            <div class=\"policy-card ${statusClass}\">\r\n                <div class=\"policy-header\">\r\n                    <span class=\"policy-type\">${this.getPolicyTypeLabel(policy.policy_type)}</span>\r\n                    <span class=\"policy-status ${statusClass}\">${policy.status}</span>\r\n                </div>\r\n                <div class=\"policy-body\">\r\n                    <h4>${policy.policy_number}</h4>\r\n                    <p class=\"client-name\">${policy.client_name || 'Cliente N/A'}</p>\r\n                    <div class=\"policy-details\">\r\n                        <div class=\"detail-item\">\r\n                            <span class=\"label\">Prima:</span>\r\n                            <span class=\"value\">$${parseFloat(policy.premium_amount).toFixed(2)}/mes</span>\r\n                        </div>\r\n                        <div class=\"detail-item\">\r\n                            <span class=\"label\">Cobertura:</span>\r\n                            <span class=\"value\">$${parseFloat(policy.coverage_amount).toLocaleString()}</span>\r\n                        </div>\r\n                        <div class=\"detail-item\">\r\n                            <span class=\"label\">Renovaci贸n:</span>\r\n                            <span class=\"value ${daysUntilRenewal <= 30 ? 'warning' : ''}\">\r\n                                ${this.formatDate(policy.renewal_date)}\r\n                                ${daysUntilRenewal <= 30 && daysUntilRenewal > 0 ? ` (${daysUntilRenewal} d铆as)` : ''}\r\n                            </span>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class=\"policy-footer\">\r\n                    <button class=\"btn btn-sm btn-outline\" \r\n                            onclick=\"window.appHandlers?.viewPolicy?.('${policy.id}')\">\r\n                        Ver detalles\r\n                    </button>\r\n                    <button class=\"btn btn-sm btn-primary\" \r\n                            onclick=\"window.appHandlers?.viewClientDetails?.('${policy.client_id}')\">\r\n                        Ver cliente\r\n                    </button>\r\n                </div>\r\n            </div>\r\n        `;\r\n    }\r\n\r\n    getPolicyTypeLabel(type) {\r\n        const labels = {\r\n            'auto': ' Auto',\r\n            'home': ' Hogar',\r\n            'life': 'わ Vida',\r\n            'health': ' Salud',\r\n            'business': ' Negocio'\r\n        };\r\n        return labels[type] || type;\r\n    }\r\n\r\n    getExpiringCount(policies) {\r\n        const now = new Date();\r\n        const thirtyDaysFromNow = new Date(now.getTime() + (30 * 24 * 60 * 60 * 1000));\r\n        return policies.filter(p => {\r\n            const renewalDate = new Date(p.renewal_date);\r\n            return renewalDate <= thirtyDaysFromNow && renewalDate > now;\r\n        }).length;\r\n    }\r\n\r\n    formatDate(dateString) {\r\n        const date = new Date(dateString);\r\n        return date.toLocaleDateString('es-ES', { day: 'numeric', month: 'short', year: 'numeric' });\r\n    }\r\n}\r\n\r\n/**\r\n * Dashboard Manager para Agente\r\n * Coordina todos los paneles y filtros\r\n */\r\nexport class AgentDashboardManager {\r\n    constructor() {\r\n        this.filteredClientId = null;\r\n        this.paymentPanel = null;\r\n        this.policiesPanel = null;\r\n        this.paymentViewMode = 'all';\r\n        this.policiesViewMode = 'all';\r\n    }\r\n\r\n    async initialize() {\r\n        // Inicializar paneles\r\n        this.paymentPanel = new AgentPaymentSchedulePanel('agent-payments-container', {\r\n            clientId: this.filteredClientId,\r\n            viewMode: this.paymentViewMode\r\n        });\r\n\r\n        this.policiesPanel = new AgentPoliciesPanel('agent-policies-container', {\r\n            clientId: this.filteredClientId,\r\n            viewMode: this.policiesViewMode\r\n        });\r\n\r\n        await this.render();\r\n    }\r\n\r\n    async render() {\r\n        if (this.paymentPanel) {\r\n            await this.paymentPanel.render();\r\n        }\r\n        if (this.policiesPanel) {\r\n            await this.policiesPanel.render();\r\n        }\r\n    }\r\n\r\n    setClientFilter(clientId) {\r\n        this.filteredClientId = clientId;\r\n\r\n        // Actualizar paneles con nuevo filtro\r\n        if (this.paymentPanel) {\r\n            this.paymentPanel.filteredClientId = clientId;\r\n        }\r\n        if (this.policiesPanel) {\r\n            this.policiesPanel.filteredClientId = clientId;\r\n        }\r\n\r\n        this.render();\r\n\r\n        // Actualizar UI del filtro\r\n        this.updateFilterUI(clientId);\r\n    }\r\n\r\n    clearClientFilter() {\r\n        this.setClientFilter(null);\r\n    }\r\n\r\n    setPaymentView(viewMode) {\r\n        this.paymentViewMode = viewMode;\r\n        if (this.paymentPanel) {\r\n            this.paymentPanel.viewMode = viewMode;\r\n            this.paymentPanel.render();\r\n        }\r\n    }\r\n\r\n    setPoliciesView(viewMode) {\r\n        this.policiesViewMode = viewMode;\r\n        if (this.policiesPanel) {\r\n            this.policiesPanel.viewMode = viewMode;\r\n            this.policiesPanel.render();\r\n        }\r\n    }\r\n\r\n    updateFilterUI(clientId) {\r\n        const filterPanel = document.getElementById('client-filter-panel');\r\n        const filterClientName = document.querySelector('[data-filter-client-name]');\r\n\r\n        if (filterPanel) {\r\n            if (clientId) {\r\n                // Mostrar panel\r\n                filterPanel.style.display = 'block';\r\n\r\n                // Buscar nombre del cliente en los datos cargados\r\n                if (filterClientName && window.dashboardData?.clients) {\r\n                    const client = window.dashboardData.clients.find(c => c.id == clientId);\r\n                    if (client) {\r\n                        filterClientName.textContent = client.name;\r\n                    } else {\r\n                        filterClientName.textContent = `Cliente ID: ${clientId}`;\r\n                    }\r\n                }\r\n            } else {\r\n                // Ocultar panel\r\n                filterPanel.style.display = 'none';\r\n            }\r\n        }\r\n    }\r\n\r\n    reviewProof(proofId) {\r\n        // Implementar l贸gica de revisi贸n de comprobante\r\n        console.log('Reviewing proof:', proofId);\r\n        // Abrir modal de revisi贸n\r\n        if (window.appHandlers?.reviewPaymentProof) {\r\n            window.appHandlers.reviewPaymentProof(proofId);\r\n        }\r\n    }\r\n\r\n    contactClient(clientId) {\r\n        // Implementar l贸gica de contacto\r\n        console.log('Contacting client:', clientId);\r\n        // Abrir modal de contacto o email\r\n        if (window.appHandlers?.contactClient) {\r\n            window.appHandlers.contactClient(clientId);\r\n        }\r\n    }\r\n}\r\n\r\n// Inicializar cuando el DOM est茅 listo\r\nif (typeof window !== 'undefined') {\r\n    window.addEventListener('DOMContentLoaded', () => {\r\n        // Solo inicializar si estamos en el dashboard de agente\r\n        if (document.getElementById('agent-payments-container') ||\r\n            document.getElementById('agent-policies-container')) {\r\n            window.agentDashboard = new AgentDashboardManager();\r\n            window.agentDashboard.initialize();\r\n        }\r\n    });\r\n}\r\n"],"names":["e","t","r","Symbol","n","iterator","o","toStringTag","i","c","prototype","Generator","u","Object","create","_regeneratorDefine2","f","p","y","G","v","a","d","bind","length","l","TypeError","call","done","value","GeneratorFunction","GeneratorFunctionPrototype","getPrototypeOf","setPrototypeOf","__proto__","displayName","_regenerator","w","m","defineProperty","_regeneratorDefine","_invoke","enumerable","configurable","writable","asyncGeneratorStep","Promise","resolve","then","_asyncToGenerator","arguments","apply","_next","_throw","_classCallCheck","_defineProperties","_toPropertyKey","key","_createClass","_toPrimitive","_typeof","toPrimitive","String","Number","apiService","API_CONFIG","AgentPaymentSchedulePanel","containerId","options","undefined","container","document","getElementById","filteredClientId","clientId","viewMode","_render","_callee","_this","data","payments","_t","_context","console","warn","request","method","filter","client_id","status","innerHTML","concat","map","renderPaymentRow","join","error","message","render","payment","_payment$client_name","statusClass","getStatusClass","daysUntilDue","Math","ceil","Date","due_date","urgencyClass","shortName","client_name","split","slice","policy_number","parseFloat","amount","toFixed","formatShortDate","abs","getStatusText","proof_id","id","policy_id","classes","texts","formatDate","dateString","date","toLocaleDateString","day","month","year","reviewReceipt","proofId","paymentId","modal","createElement","className","body","appendChild","approveReceipt","_document$getElementB","_document$querySelect","notes","log","showNotification","NOTIFICATION_TYPES","SUCCESS","querySelector","remove","loadPaymentSchedule","rejectReceipt","_document$getElementB2","_document$querySelect2","INFO","AgentPoliciesPanel","_render2","_callee2","_this2","_dashboardData$client","_yield$import","_apiService","dashboardData","policies","now","thirtyDaysFromNow","_t2","_context2","clients","flatMap","getTime","renewalDate","renewal_date","getExpiringCount","renderPolicyRow","policy","daysUntilRenewal","getPolicyTypeLabel","policy_type","premium_amount","renderPolicyCard","coverage_amount","toLocaleString","type","labels","AgentDashboardManager","paymentPanel","policiesPanel","paymentViewMode","policiesViewMode","_initialize","_callee3","_context3","initialize","_render3","_callee4","_context4","setClientFilter","updateFilterUI","clearClientFilter","setPaymentView","setPoliciesView","filterPanel","filterClientName","_window$dashboardData","style","display","window","client","find","textContent","name","reviewProof","_window$appHandlers","appHandlers","reviewPaymentProof","contactClient","_window$appHandlers2","addEventListener","agentDashboard"],"sourceRoot":""}